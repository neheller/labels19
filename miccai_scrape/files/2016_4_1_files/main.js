/*! springerverse-nojq.js | v5.7.2 */
function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}this.Springerverse=this.Springerverse||{},this.Springerverse.Utils=this.Springerverse.Utils||{},this.Springerverse.Utils.DeviceState=function(){"use strict";var t=0,n=null,o=function(){var e,t=null;return window.getComputedStyle&&window.getComputedStyle(document.body,":after")&&(t=(t=window.getComputedStyle(document.body,":after")).content),t?JSON.parse((("string"==typeof(e=t)||e instanceof String)&&(e=e.replace(/^['"]+|\s+|\\|(;\s?})+|['"]$/g,"")),e)):t},r=function(e){return"number"==typeof e?e:(e=n[e.toString()])?parseInt(e,10):null};return{current:function(){if(window.getComputedStyle&&window.getComputedStyle(document.body,":before")){var e=window.getComputedStyle(document.body,":before").content.replace(/"|'/g,"");return parseInt(e,10)}return t},gte:function(e){var t=r(e);return!!t&&this.current()>=t},lte:function(e){var t=r(e);return!!t&&this.current()<=t},gt:function(e){var t=r(e);return!!t&&this.current()>t},lt:function(e){var t=r(e);return!!t&&this.current()<t},init:function(e){n=o(),t=r(e)}}}(),this.Springerverse=this.Springerverse||{},this.Springerverse.Utils=this.Springerverse.Utils||{},this.Springerverse.Utils.EventEmitter=function(){"use strict";this._listeners={}},this.Springerverse.Utils.EventEmitter.prototype={on:function(e,t,n){"use strict";this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push({fn:t,scope:n||null})},off:function(e,t){"use strict";if(!this._listeners[e])return!1;t||(this._listeners[e]=[]);for(var n=this._listeners[e].length;n--;)this._listeners[e][n].fn===t&&this._listeners[e].splice(n,1);return 0===this._listeners[e].length&&(this._listeners[e]=null),!0},emit:function(e){"use strict";for(var t=this._listeners[e+":"+arguments[1]]||[],n=[].slice.call(arguments,2),o=0;t[o];++o)t[o].fn.apply(t[o].scope,n)}},this.Springerverse=this.Springerverse||{},this.Springerverse.Utils=this.Springerverse.Utils||{},this.Springerverse.Utils.GetSpringerverseJquery=function(){"use strict";function t(e){return t="jQuery331",0===e.indexOf(t);var t}return{init:function(){var e="3.3.1"===window.jQuery.fn.jquery?window.jQuery:Object.getOwnPropertyNames(window).filter(t).shift();if(e)return e;throw new Error("No jQuery detected")}}}(),this.Springerverse=this.Springerverse||{},this.Springerverse.Utils=this.Springerverse.Utils||{},this.Springerverse.Utils.hijackClick=function(s){"use strict";return function(i){return function(e){var t=s(e.target).closest("a").attr("href"),n=e.metaKey||e.ctrlKey||e.shiftKey,o=1===e.which&&!n&&Boolean(t),r=e.isDefaultPrevented();o&&e.preventDefault(),i.call(this,e,function(){o&&!r&&(document.location=t)})}}}(jQuery),this.Springerverse=this.Springerverse||{},this.Springerverse.Utils=this.Springerverse.Utils||{},this.Springerverse.Utils.Initialiser=function(f){"use strict";var m=function(e,t,n,o){t.init(e,n,o)},h=function(e,t,n,o){for(var r=f(t.selector),i=e[o],s=0;s<r.length;++s)m(f(r[s]),i,o,f.extend({},{componentPrefix:n},t))},v=function(e,t,n,o){for(var r=o.split("."),i=f(t[r[1]].selector),s=e[r[0]],a=0;a<i.length;++a)m(f(i[a]),s,o,f.extend({},{componentPrefix:n},t[r[1]]))};return{init:function(e,t,n){for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var r=t[o]||{},i=f('[data-component="'+n+"."+o+'"]');if(0<i.length)for(var s=0;s<i.length;++s){var a=f(i[s]),l=a.data("namespace")||null,c=f.extend({},{componentPrefix:n},l&&r[l]?r[l]:r),d=l?o+"."+l:o,p=e[o];m(a,p,d,c)}if(r.selector)h(e,r,n,o);else if(r.namespaced)for(var u in r)"object"===_typeof(r[u])&&r[u].selector&&v(e,r,n,o+"."+u)}}}}(jQuery),this.Springerverse=this.Springerverse||{},this.Springerverse.Utils=this.Springerverse.Utils||{},this.Springerverse.Utils.Lazyload=function(){"use strict";return{init:function(t,n,e){var o=new IntersectionObserver(function(e){e.forEach(function(e){!0===e.isIntersecting&&(n(),o.unobserve(t))})},e||{});o.observe(t)}}}(),this.Springerverse=this.Springerverse||{},this.Springerverse.Utils=this.Springerverse.Utils||{},this.Springerverse.Utils.Scheduler=function(e,o){"use strict";var s=e(o),a=function(e){var t=e.indexOf(".");return{ev:-1===t?e:e.substr(0,t),ns:-1===t?null:e.substr(t+1)}},i=function(e,t){for(var n=[],o=0;e[o];++o)t(e[o])||n.push(e[o]);return n},l=function(e){return e+".redraw-scheduler"},c=function(e,t,n){var o=a(e),r=o.ev,i=o.ns;u[r]||(s.on(l(r),function(e){f.notify(r,e)}),u[r]=!0),p[r]||(p[r]=[]),p[r].push({fn:t,ns:i,scope:n||null})},d=function(e,t,n){o.requestAnimationFrame(function(){t.call(n||null,{type:e})})},n={},p={},u={},f={on:function(e,t,n){for(var o=this._loaded(),r=e.split(/\s+/),i=0;r[i];++i)o&&r[i].match(/^load(\.|$)/)?d("load",t,n):c(r[i],t,n)},off:function(e,t){var n=a(e),o=n.ev,r=n.ns;return!!p[o]&&(p[o]=r||t?i(p[o],t?r?function(e){return e.ns===r&&e.fn===t}:function(e){return e.fn===t}:function(e){return e.ns===r}):[],0===p[o].length&&(p[o]=null),!0)},reset:function(){var e;for(e in u)Object.prototype.hasOwnProperty.call(u,e)&&s.off(l(e));for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&n[e]&&o.cancelAnimationFrame(n[e]);p={},n={},u={}},notify:function(e,t){!n[e]&&p[e]&&(n[e]=o.requestAnimationFrame(function(){!function(e,t){for(var n=p[e]||[],o=0;n[o];++o)n[o].fn.call(n[o].scope,t,e)}(e,t),n[e]=!1}))},_loaded:function(){return"complete"===o.document.readyState}};return f}(jQuery,window),function(e){"use strict";var i=function(){var e=document.createElement("fake"),t={transition:"transitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&void 0!==e.style[n])return t[n];return null}();e.fn.onTransitionEnd=function(n,e){var o=this,r=o.get(0),t=e||!1;return i?r.addEventListener(i,function e(t){r.removeEventListener(i,e),n(o,t)},t):n(!1),o}}(jQuery),this.Springerverse=this.Springerverse||{},this.Springerverse.Utils=this.Springerverse.Utils||{},this.Springerverse.Utils.Validate=function(){"use strict";var t=/^[a-z0-9\u007F-\uffff!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9\u007F-\uffff!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z]{2,}$/i;return{email:function(e){return t.test(e)}}}(),this.Springerverse=this.Springerverse||{},this.Springerverse.Component=this.Springerverse.Component||{},this.Springerverse.Component.DropdownController=function(d){"use strict";var o="click.DropdownController",p={animationSpeed:100},u=function(e){var t=e.clone().appendTo(e.parent()),n=e.parent().width();t.css({maxHeight:"100%",width:n,opacity:1,transition:"none",visibility:"hidden",position:"relative"});var o=t.outerHeight();return t.remove(),o},t=function(e){var t=e.data;t.$body.hasClass("kb_user")&&t.nowopen&&setTimeout(function(){var e=document.activeElement;t.$focusables.is(e)||(t.$focusables.attr("tabindex",-1),m.close(t.$el,t,!0,t.name))},1)},f=function(e){e.$focusables=e.$dropdown.find("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]").filter(":visible").attr("tabindex",-1),e.$focusableBounds=e.$focusables.filter(":first").add(e.$focusables.filter(":last")),e.$focusableBounds.eq(1).on("blur",e,t),e.$focusableBounds.eq(0).on("blur",e,t),e.$control.on("blur",e,t)},m={setAriaState:function(e,t){e.$control.attr("aria-expanded",!t),e.$dropdown.attr("aria-hidden",t)},open:function(e,t){t.$dropdown.css({maxHeight:t.dropdownHeightValue,opacity:1}),m.setAriaState(t,e.hasClass(t.activeClass)),m.bindEvents(e,t),e.addClass(t.activeClass),e.data("expandable")&&(e.offset().width,e.css("width",e.data("finish")),setTimeout(function(){e.addClass(t.expandedClass)},t.animationSpeed)),Springerverse.Mediator.emit(t.componentName+"."+t.group,"open",t.$el,t.name,t.$dropdown,t.$control),Springerverse.Mediator.emit(t.name,"open",t.$el,t.name,t.$dropdown,t.$control)},close:function(e,t,n,o){t.nowopenSettings.$dropdown.css({maxHeight:0,opacity:0}),m.setAriaState(t,e.hasClass(t.activeClass)),e.removeClass(t.activeClass),e.data("expandable")&&(e.css("width",e.data("start")),setTimeout(function(){e.removeClass(t.expandedClass)},t.animationSpeed)),e.removeClass(t.hoverClass),n&&m.unbindEvents(t.group),Springerverse.Mediator.emit(t.componentName+"."+t.group,"close"),Springerverse.Mediator.emit(o,"close",t.name),t.nowopenSettings.$dropdown.onTransitionEnd(function(){e.hasClass(t.activeClass)||(e.removeAttr("style"),e.data("expandable")&&e.css({width:e.data("start")}))}),0===e[0].offsetHeight&&(e.removeAttr("style"),t.$body.hasClass("kb_user")||t.nowopenSettings.$control.blur(),e.data("expandable")&&e.css({width:e.data("start")}))},bindEvents:function(t,n){d(document).on(o+"."+n.group,function(e){0<!d(e.target).closest("[data-role="+n.controlSelector+"]").length&&(n.$focusables.attr("tabindex",-1),m.close(t,n,!0,n.name))})},unbindEvents:function(e){d(document).off(o+"."+e)},init:function(t,e,n){var o,r,i,s,a,l,c=(o=t,r=e,i=n,(s=d.extend({},p,i)).name=r,s.componentName=r.split(".")[0],s.componentNamespace=r.split(".")[1],s.$el=o,s);c.$body=d("body"),t.data("expandable",c.expandable||c.expandableEvent),c.dropdownSelector="."+c.dropdownClass,c.iconSelector="."+c.iconBaseClass,a=c,l=t.find("."+c.buttonClass),a.$control=a.$el.find('[data-role="'+a.controlSelector+'"]'),a.$dropdown=a.$el.find(a.dropdownSelector),a.$dropdownIcon=a.$control.find(a.iconSelector),a.$button=l,a.dropdownHeightValue=u(a.$dropdown),t.is(":visible")&&f(c),c.$dropdown.hover(function(){t.addClass(c.hoverClass)},function(){t.removeClass(c.hoverClass)}),c.$control.on("click",function(){if(t.hasClass(c.activeClass))c.$focusables.attr("tabindex",-1),m.close(t,c,!0,c.name);else{if(c.nowopen){m.unbindEvents(c.group);var e=c.nowopenSettings.$el;c.$focusables.attr("tabindex",-1),m.close(e,c,!1,c.nowopen)}c.$focusables.attr("tabindex",0),m.open(t,c)}}),Springerverse.Mediator.on(c.componentName+"."+c.group+":open",function(e,t,n,o){c.nowopen=t,c.nowopenSettings={$el:e,$dropdown:n,$control:o}}),Springerverse.Mediator.on(c.componentName+"."+c.group+":close",function(){c.nowopen=null}),Springerverse.Mediator.on(c.componentName+"."+c.group+":check",function(){c.dropdownHeightValue=u(c.$dropdown),t.is(":visible")&&!c.$focusables&&f(c)}),Springerverse.Utils.Scheduler.on("resize orientationchange",function(){c.dropdownHeightValue=u(c.$dropdown),t.is(":visible")&&!c.$focusables&&f(c)})}};return m}(jQuery),this.Springerverse=this.Springerverse||{},this.Springerverse.Component=this.Springerverse.Component||{},this.Springerverse.Component.Dropdown=function(S){"use strict";var C="button-dropdown__control",$="c-button-dropdown",w="c-button-dropdown__container",y="c-button-dropdown__button",x="c-button-dropdown__icon",P={group:"default",color:null,titleSelector:"[data-role=button-dropdown__title]",contentSelector:"[data-role=button-dropdown__content]",expandable:!1,minWidth:null,maxWidth:null},L={extremum:function(e,t,n){return"min"===t&&e.finish<n||"max"===t&&e.finish>n?n:e.finish},expandable:function(e){var t=e.$el.find("[data-role="+C+"]"),n=t.find("span");e.start=parseFloat(window.getComputedStyle(e.$el[0]).width),e.finish=0,e.finish=e.finish+parseFloat(t.css("padding-left"))+parseFloat(t.css("padding-right"))+2,e.finish=e.finish+parseFloat(n.css("padding-left"))+parseFloat(n.css("padding-right")),n.css({display:"inline-block",maxWidth:"none",overflow:"visible",padding:0,margin:0}),e.finish+=parseFloat(window.getComputedStyle(n[0]).width),n.removeAttr("style"),e.minWidth&&(e.finish=L.extremum(e,"min",e.minWidth)),e.maxWidth&&(e.finish=L.extremum(e,"max",e.maxWidth)),e.$el.data("start",e.start),e.$el.data("finish",e.finish),e.$el.attr("style")||e.$el.width(e.start)},init:function(o,e,t){var n,r,i,s,a,l,c,d,p=(n=o,r=e,i=t,(s=S.extend({},P,i)).name=r,s.componentName=r.split(".")[0],s.componentNamespace=r.split(".")[1],s.$el=n,s),u=o.find(p.titleSelector),f=o.find(p.contentSelector),m=p.color?$+" "+$+"--"+p.color:$;if("aside"!==p.group||p.duplicated||(l=t,c=(a=p).$el.clone().appendTo("[data-component=article-actions--inline]"),d=a.name+"--inline",c.attr("data-namespace",a.componentNamespace+"--inline").addClass("u-interface"),l.duplicated=!0,L.init(c,d,l)),o.attr("aria-label","button with dropdown options").addClass(m),0<u.length&&0<f.length){var h=u.html(),v=p.componentName+"-"+(p.componentNamespace?p.componentNamespace:function(e){for(var t=e.replace(/\s/g,""),n="",o=0;o<t.length;++o)n+=t.charCodeAt(o);return n.split("").sort(function(){return.5-Math.random()}).join("").substring(0,10)}(o.find(p.titleSelector).text()))+"-dropdown",g=u.attr("data-btn-text");u.replaceWith('<button id="button-'+v+'" type="button" '+(g?'title="'+g+'"':"")+' class="'+y+'" data-role="'+C+'" aria-expanded="false" aria-controls="'+v+'"><span class="u-overflow-ellipsis c-button-dropdown__button-title">'+h+'</span><span class="c-button-dropdown__icon"></span></button>'),f.wrap('<div class="u-composite-layer '+w+'" aria-hidden="true" aria-label="dropdown" id="'+v+'"></div>'),Springerverse.Mediator.emit(p.name,"ready",v),p.expandable&&(Springerverse.Utils.Scheduler.on("load resize orientationchange",function(){0===o[0].offsetHeight||p.expandableSet||(p.expandableSet=!0,L.expandable(p))}),Springerverse.Mediator.on("Dropdown.Dimensions:set",function(e,t,n){e===p.componentNamespace&&0!==o[0].offsetHeight&&p.$el.data("finish",L.extremum(p,t,n))}));var b={group:p.group,componentPrefix:p.componentPrefix,activeClass:$+"--active",expandedClass:$+"--expanded",hoverClass:$+"--hover",dropdownClass:w,buttonClass:y,controlSelector:C,iconBaseClass:x,expandable:p.expandable};Springerverse.Component.DropdownController.init(o,"Dropdown"+(p.componentNamespace?"."+p.componentNamespace:""),b)}}};return L}(jQuery),this.Springerverse.Component=this.Springerverse.Component||{},this.Springerverse.Component.EditionSwitcher=function(){"use strict";return{currentEditionSwitcherID:null,init:function(t,e,n){var o=this;Springerverse.Mediator.on(e+":ready",function(e){o.currentEditionSwitcherID=e}),Springerverse.Component.Dropdown.init(t,e,n),Springerverse.Utils.Scheduler.on("load",function(){var e=t.find(".c-button-dropdown__container ul > li.selected").text();t.find(".c-button-dropdown__button-title").text(e),o.currentEditionSwitcherID&&o.followFocusWhenEditionIsSelected()})},followFocusWhenEditionIsSelected:function(){var e=window.location.hash.substr(1);if(0<e.length){var t=document.querySelector("#".concat(e)),n=document.getElementById(this.currentEditionSwitcherID).contains(t);t&&n&&document.querySelector("#button-".concat(this.currentEditionSwitcherID)).focus()}}}}(),this.Springerverse.Component=this.Springerverse.Component||{},this.Springerverse.Component.InternalNavigation=function(l){"use strict";var c="js-ShowContent",t=[".Heading",".section__heading"],d="section-icon",p={init:function(e,t,i){var s=!1,n="",r=i.collapsibleSections.split(",");if("[object Array]"===Object.prototype.toString.call(i.exclude))for(var o=i.exclude.length,a=0;a<o;a++)n+=":not("+i.exclude[a]+")";Springerverse.Utils.Scheduler.on("load resize orientationchange",function(e,t){var n=window.location.hash;if(s=Springerverse.Utils.DeviceState.lte(i.mediaQuery),"load"===t&&n){var o=p.findHeading(n);if(o&&o.querySelector("."+d)){var r=o.parentNode;r.classList.add(c),o.querySelector("."+d).classList.add("section-icon--open"),Springerverse.Mediator.on("ToggleHeadings:collapsed",function(){r.setAttribute("aria-expanded","true")})}}}),e.on("click",'a[href*="#"]'+n,function(){if(s)for(var e=l('[id="'+l(this).attr("href").substring(1)+'"]'),t=r.length,n=0;n<t;n++){var o=e.parents(r[n]);if(0<o.length){o.find("[data-role=collapsible-handle]").addClass(c);break}}}),l(i.sidebar).on("click","a",function(){var e=this.getAttribute("href"),t=l(e).children(".Heading");t&&t.addClass(c)})},findHeading:function(e){var n=null,o=document.querySelector(e);return o&&t.forEach(function(e){var t=o.querySelector(e);t&&(n=t)}),n}};return p}(jQuery),this.Springerverse.Component=this.Springerverse.Component||{},this.Springerverse.Component.KeyboardControl=function(r){"use strict";var i="kb_user",s="show-toc";return{init:function(e,t,n){var o=r("body");o.on("keyup",function(e){9!==e.keyCode||o.hasClass(i)||o.hasClass(s)||(o.addClass(i),o.addClass(s))}),o.on("mousedown",function(){o.removeClass(i),o.removeClass(s)})}}}(jQuery),this.Springerverse.Component=this.Springerverse.Component||{},this.Springerverse.Component.Menu=function(d){"use strict";var c="MenuAdmin",p=['<div class="','u-composite-layer" data-component="SV.Dropdown" data-namespace="','">','<h3 data-role="button-dropdown__title" data-btn-text="','">',"</h3>","</div>"],i={menuWidth:function(e,t,n,o){Springerverse.Mediator.emit("Dropdown.Dimensions","set",t,n,o)},createDropdown:function(e,t,n){Springerverse.Component.Dropdown.init(e,t,n)},addToDOM:function(e,t,n,o,r,i,s){var a=d("<div>").append(e.clone()).remove().html(),l=p.slice();l.splice(1,0,t+" "),l.splice(3,0,i),l.splice(6,0,n),l.splice(8,0,o),l.splice(10,0,'<ul class="'+t+'__content" data-role="button-dropdown__content">'+a+"</ul>");var c=d(l.join(""));s.$el.after(c),this.createDropdown(c,"Dropdown."+i,r)},smallScreenMenu:function(e){var t=e.$el.find("li"),n=e.title,o=e.text,r=d.extend({},{group:e.group,color:e.color,componentPrefix:e.componentPrefix,titleSelector:e.titleSelector?e.titleSelector:void 0,contentSelector:e.contentSelector?e.contentSelector:void 0,expandable:!0,minWidth:189,maxWidth:e.$maxContainer.width()});Springerverse.Utils.Scheduler.on("resize orientationchange",function(){i.menuWidth(e,"Menu","max",e.$maxContainer.width())}),this.addToDOM(t,"main-menu",n,o,r,"Menu",e)},adminMenu:function(e){var t=e.$el.find("li.global-nav__logged-in"),n=e.title,o=e.$el.find("li.global-nav__logged-in--name").text().trim(),r=d.extend({},{group:e.group,color:e.color,componentPrefix:e.componentPrefix,titleSelector:e.titleSelector?e.titleSelector:void 0,contentSelector:e.contentSelector?e.contentSelector:void 0,expandable:!0,minWidth:189,maxWidth:e.$maxContainer.width()});Springerverse.Utils.Scheduler.on("resize orientationchange",function(){i.menuWidth(e,c,"max",e.$maxContainer.width())}),this.addToDOM(t,"admin-menu",n,o,r,c,e)},init:function(e,t,n){var o,r,i,s,a=(o=e,r=t,i=n,(s=d.extend({},i)).name=r,s.componentName=r.split(".")[0],s.componentNamespace=r.split(".")[1],s.$el=o,s.title=o.attr("data-title"),s.text=o.attr("data-text"),s.$maxContainer=d("[data-role=NavigationContainer]"),s.$head=document.head||document.getElementsByTagName("head")[0],s),l=e.prev("div.search-button");this.smallScreenMenu(a),0<e.filter("[data-role=menu--logged-in]").length&&(this.adminMenu(a),Springerverse.Mediator.on("Dropdown."+c+":open",function(){e.addClass("global-nav--hidden"),l.addClass("global-nav--hidden")}),Springerverse.Mediator.on("Dropdown."+c+":close",function(){e.removeClass("global-nav--hidden"),l.removeClass("global-nav--hidden")}))}};return i}(this.Springerverse.Utils.GetSpringerverseJquery.init()),this.Springerverse=this.Springerverse||{},this.Springerverse.Component=this.Springerverse.Component||{},this.Springerverse.Component.Pagination=function(l){"use strict";var c={inputSelector:".c-pagination__input",inputSubmit:".c-pagination__submit",characterSize:7},d=function(e,t){e.css("width",(e.val().length+1)*Number(t))};return{init:function(e,t,n){var o,r,i,s,a=(o=e,r=t,i=n,(s=l.extend({},c,i)).name=r,s.componentName=r.split(".")[0],s.componentNamespace=r.split(".")[1],s.$el=o,s);a.$input=e.find(a.inputSelector),a.$inputSubmit=e.find(a.inputSubmit),a.$inputSubmit.attr("tabindex","-1"),d(a.$input,a.characterSize),a.$input.on("input",function(){d(a.$input,a.characterSize)})}}}(jQuery),this.Springerverse.Component=this.Springerverse.Component||{},this.Springerverse.Component.Persons=function(c){"use strict";return{init:function(e,t,n){var o,r,i,s,a=(o=e,r=t,i=n,(s=c.extend({},i)).name=r,s.componentName=r.split(".")[0],s.componentNamespace=r.split(".")[1],s.$el=o,s);e.addClass("persons--enhanced");var l={componentPrefix:a.componentPrefix,maxPersons:a.maxPersons,showMore:"show <val> more",showLess:"show fewer",className:"persons",dataRoleName:"Persons"};Springerverse.Component.TruncatePersons.init(a.$el,"Persons",l)}}}(jQuery),this.Springerverse.Component=this.Springerverse.Component||{},this.Springerverse.Component.Popup=function(l){"use strict";var c="popup--active",d="."+c,t="click.Popup",r="keyup.Popup",i="focusout.Popup",e="popup-arrow",n="."+e,o="SpringerLink-Popup-close",s="SpringerLink-Popup-inner",a="top:-60px;left:-60px;visibility:hidden;opacity:0;",p="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",u=".js-focus-catcher",f={createPopup:function(e){e.$control=e.$el.find(e.control),e.$popupData=l(e.$control.attr("href")),e.$bounds=l(e.bounds),e.popupAttribute=e.componentName.toLowerCase()+"-"+e.group,e.singleColumn=Springerverse.Utils.DeviceState.lte("large"),e.small=Springerverse.Utils.DeviceState.lte("small"),e.hiddenPopup&&e.$popupData.querySelector(p).attr("tabIndex","-1"),0===l("#"+e.popupAttribute).length&&l("body").prepend('<div id="'+e.popupAttribute+'" class="u-composite-layer '+e.theme+'" style="'+a+'"><svg class="popup-arrow" xmlns="http://www.w3.org/2000/svg" width="33.7" height="18.4" viewBox="0 0 33.7 18.4"><path class="fill" fill="#F7FBFE" d="M1.4 18.4h30.9l-15.5-16.9z"/><path class="stroke" fill="#98BED7" d="M0 18.4h1.4l15.4-16.9 15.5 16.9h1.4l-16.9-18.4z"/></svg><div class="popup-arrow popup-arrow-shadow icon--popup-arrow-shadow"></div><div class="popup__'+e.group+'"><div tabindex="-1" class="popup-base-theme__inner" data-component="'+s+'"></div></div><button tabindex="-1" class="popup-close" data-component="'+o+'"><img alt="Close" src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2214%22%20height%3D%2214%22%3E%3Cpath%20fill%3D%22%23666%22%20d%3D%22M1.706.292A.996.996%200%200%200%20.294.294a1.002%201.002%200%200%200-.002%201.412L5.527%206.94.292%2012.177a.996.996%200%200%200%20.002%201.412c.39.39%201.026.385%201.412%200L6.94%208.354l5.236%205.235a.998.998%200%200%200%201.414-1.413L8.355%206.94l5.235-5.234a.996.996%200%200%200-.002-1.412%201.002%201.002%200%200%200-1.412-.002L6.94%205.527%201.707.292z%22%2F%3E%3C%2Fsvg%3E"/></button></div>'),e.$popup=l("#"+e.popupAttribute),e.$close=e.$popup.find('[data-component="'+o+'"]'),e.$content=e.$popup.find("[data-component=SpringerLink-Popup-inner]"),e.iconWidth=e.$popup.find(n).width()},setBounds:function(e,t){var n;t.windowWidth=l(window).width(),t.boundsWidth=t.$bounds.width(),t.popupWidth=t.small?t.$bounds.width():parseInt(t.boundsWidth/100*t.popupWidthPercentage,10),t.singleColumn&&!t.small?t.boundsOffset=t.boundsOffsetArray[1]:t.small?t.boundsOffset=0:t.singleColumn||t.small||(t.boundsOffset=t.boundsOffsetArray[0]),t.boundsCalc=t.$bounds.offset(),t.controlCalc=e.offset(),t.halfPopup=t.popupWidth/2,t.halfControl=e.width()/2,t.offset=t.controlCalc.left-t.halfPopup+t.halfControl,t.leftDiff=t.controlCalc.left-t.boundsCalc.left-(t.halfPopup-t.halfControl),t.rightDiff=t.offset+t.popupWidth-(t.$bounds.width()+t.boundsCalc.left),t.leftDiff<0-t.boundsOffset&&!t.small?(n=t.offset,t.offset-=t.leftDiff+t.boundsOffset,t.arrowPos=t.halfPopup-(t.offset-n)):t.rightDiff>t.boundsOffset&&!t.small?(n=t.offset,t.offset-=t.rightDiff-t.boundsOffset,t.arrowPos=t.halfPopup+(n-t.offset)):t.small&&(t.offset=t.boundsCalc.left,t.arrowPos=t.controlCalc.left-t.boundsCalc.left+t.halfControl)},ariaControls:function(e){e.$popup.attr("aria-hidden","true"),e.$control.attr("role","button").attr("aria-expanded","false").attr("aria-controls",e.popupAttribute)},setAriaState:function(e,t,n){e.$control.attr("aria-expanded",t),n&&e.$popup.attr("aria-hidden",!t)},bindEvents:function(n,o){l(document).on(t+"."+o.group,function(e){var t=l(e.target);0===t.closest(d).length&&0===t.closest("#"+o.popupAttribute).length&&f.close(n,o,!0)}),l(document).on(r+"."+o.group,function(e){27===e.keyCode&&f.close(n,o,!0)}),o.$popup.on(i+"."+o.group,function(){setTimeout(function(){0===l(document.activeElement).closest(o.$popup).length&&(o.$close.attr("tabindex",-1),o.$body.hasClass("kb_user")&&f.close(n,o,!0))},1)}),o.$close.on("click",function(){f.close(n,o,!0)})},unbindEvents:function(e){l(document).off(t+"."+e.group),l(document).off(r+"."+e.group),e.$popup.off(i+"."+e.group),e.$close.off("click")},showPopup:function(e,t){t.$content.html(t.$popupData.html()),t.hiddenPopup&&t.$content.find(p).prop("tabIndex","0"),f.setBounds(e,t),t.leftDiff<0-t.boundsOffset&&!t.small?t.$popup.find(n).css({left:t.arrowPos}):t.rightDiff>t.boundsOffset&&!t.small?t.$popup.find(n).css({left:t.arrowPos}):t.small?t.$popup.find(n).css({left:t.arrowPos}):t.$popup.find(n).removeAttr("style"),t.$popup.css({visibility:"visible",opacity:1,width:t.popupWidth,left:t.offset,top:t.controlCalc.top+e.height()})},open:function(e,t){e.addClass(c),f.setAriaState(t,e.hasClass(c),!0),f.showPopup(e,t),f.bindEvents(e,t),f.focusedPopup(e,t),Springerverse.Mediator.emit(t.componentName+"."+t.group,"open",t.componentNamespace,t.$popup,t.$control)},close:function(e,t,n){e.removeClass(c),f.setAriaState(t,e.hasClass(c),n),n&&(f.unbindEvents(t),t.$popup.css("opacity",0)),Springerverse.Mediator.emit(t.componentName+"."+t.group,"close"),e.find(p).filter(":first").focus(),t.$popup.onTransitionEnd(function(){t.$content.html(""),t.$popup.attr("style",a),l(u).attr("tabindex",-1)})},focusedPopup:function(e,t){t.$close.attr("tabindex",0),l(u).attr("tabindex",0),t.$content.focus()},init:function(n,e,t){var o,r,i,s,a=(o=n,r=e,i=t,(s=l.extend({},i)).name=r,s.componentName=r.split(".")[0],s.componentNamespace=r.split(".")[1],s.$el=o,s.$body=l("body"),s.hasInputFirst=!1,s);f.createPopup(a),f.ariaControls(a),n.on("click",a.control,function(e){if(e.preventDefault(),n.hasClass(c))f.close(n,a,!0);else{if(a.nowopen){f.unbindEvents(a);var t=l(d);f.close(t,a.nowopenSettings,!1)}f.open(n,a)}}),Springerverse.Mediator.on(a.componentName+"."+a.group+":open",function(e,t,n){a.nowopen=e,a.nowopenSettings={$popup:t,$control:n,$content:a.$content}}),Springerverse.Mediator.on(a.componentName+"."+a.group+":close",function(){a.nowopen=null,a.nowopenSettings=null}),"authors"===a.group&&Springerverse.Mediator.on("Authors:open",function(){f.setBounds(n,a)}),Springerverse.Utils.Scheduler.on("resize orientationchange",function(){a.singleColumn=Springerverse.Utils.DeviceState.lte("large"),a.small=Springerverse.Utils.DeviceState.lte("small"),n.hasClass(c)&&(a.hasInputFirst&&a.windowWidth!==l(window).width()&&f.close(n,a,!0),a.hasInputFirst||f.close(n,a,!0))})}};return f}(this.Springerverse.Utils.GetSpringerverseJquery.init()),this.Springerverse.Component=this.Springerverse.Component||{},this.Springerverse.Component.Search=function(c){"use strict";return{init:function(e,t,n){var o,r,i,s,a=(o=e,r=t,i=n,(s=c.extend({},i)).name=r,s.componentName=r.split(".")[0],s.componentNamespace=r.split(".")[1],s.$el=o,s);a.$searchButton=c(e).find(".search-button");var l={group:"search",componentPrefix:a.componentPrefix,control:"a",bounds:".page-wrapper",boundsOffsetArray:[0,0],theme:"popup-search-theme",popupWidthPercentage:100,hiddenPopup:!1};window.Springerverse.Component.Popup.init(a.$searchButton,"Popup."+t,l)}}}(this.Springerverse.Utils.GetSpringerverseJquery.init()),this.Springerverse=this.Springerverse||{},this.Springerverse.Component=this.Springerverse.Component||{},this.Springerverse.Component.Tabs=function(p){"use strict";var t="click.Tabs",n="keydown.Tabs",o="hashchange.Tabs",u=38,f=40,m=37,h=39,v=13,l={selectors:{tabList:".c-tabs__list",tabListItem:".c-tabs__list-item",tabListItemSelected:"--selected",tabListItemFocus:"--focus",tabListItemLink:".c-tabs__list-link",tabContent:".c-tabs__content",tabContentItem:".c-tabs__content-item",tabListItemIdPrefix:"tab-controls__"},startTab:0,mediaQuery:null,transitionLength:0,themeOffClass:"c-tabs--off",themeOnClass:"c-tabs--default"},g=function(e,t,n,o){e.$allTabLinks.attr({"aria-selected":"false",tabindex:"-1"}),e.$allTabContents.attr("aria-hidden","true"),e.$tabListItems.removeClass(e.selectedParentClass),t.attr({"aria-selected":"true",tabindex:"0"}),n.removeAttr("aria-hidden"),t.closest(e.selectors.tabListItem).addClass(e.selectedParentClass),e.activeTab=t,o&&setTimeout(function(){history.pushState({state:o},null,location.pathname+location.search+"#"+o)},e.transitionLength),Springerverse.Mediator.emit(e.name,"openTab",t.attr("aria-controls"),e)},c={events:function(d){p(document).on(t,d.selectors.tabListItemLink+'[aria-disabled="true"]',function(){return!1}),p(document).on(t,d.selectors.tabListItemLink+':not([aria-disabled="true"])',function(e){var t=p(this),n=t.attr("aria-controls"),o=p("#"+n);g(d,t,o,n),e.preventDefault()}),p(document).on(n,d.selectors.tabList,function(e){var t=document.activeElement,n=p(t).attr("aria-controls"),o=d.$allTabLinks.index(d.activeTab),r=0<o?o-1:d.lastPosition,i=o<d.lastPosition?o+1:d.firstPosition,s=d.$allTabLinks.eq(r).attr("aria-controls"),a=d.$allTabLinks.eq(i).attr("aria-controls");switch(e.keyCode){case u:case m:var l=p("#"+d.selectors.tabListItemIdPrefix+s);g(d,l,p("#"+s),s),l.focus(),e.preventDefault();break;case f:case h:var c=p("#"+d.selectors.tabListItemIdPrefix+a);g(d,c,p("#"+a),a),c.focus(),e.preventDefault();break;case v:p(t).is(':not([aria-disabled="true"])')&&(g(d,p(t),p("#"+n),n),e.preventDefault())}}),p(window).on(o,function(){var e=window.location.hash.replace("#",""),t=p("#"+e).parents(d.selectors.tabContentItem),n=t.attr("id");if(0<t.length){var o=p("#"+d.selectors.tabListItemIdPrefix+n);g(d,o,p("#"+n),e),p("html, body").scrollTop(p("#"+e).offset().top)}})},off:function(e){e.themeOffClass&&e.$el.addClass(e.themeOffClass),e.themeOnClass&&e.$el.removeClass(e.themeOnClass),e.$tabList.removeAttr("role"),e.$tabListItems.removeAttr("role"),e.$allTabLinks.removeAttr("role aria-controls id aria-selected"),e.$allTabContents.removeAttr("role aria-hidden aria-labelledby"),e.activeTab=null,history.pushState({state:null},null,location.pathname+location.search),p(document).off(t),p(document).off(n),p(window).off(o),Springerverse.Mediator.emit(e.name,"tabsOff")},on:function(e){e.themeOnClass&&e.$el.addClass(e.themeOnClass),e.themeOffClass&&e.$el.removeClass(e.themeOffClass),function(e){e.$tabList.attr("role","tablist"),e.$allTabLinks.attr("role","tab");for(var t=0;t<e.$allTabLinks.length;++t){var n=p(e.$allTabLinks[t]),o=n.attr("href");void 0!==o&&""!==o&&"#"!==o&&n.attr({"aria-controls":o.replace("#",""),"aria-selected":"false",id:e.selectors.tabListItemIdPrefix+o.replace("#","")})}e.firstHash=e.$allTabLinks.filter(":first").attr("aria-controls"),e.firstPosition=e.$allTabLinks.index(p("#"+e.selectors.tabListItemIdPrefix+e.firstHash)),e.lastHash=e.$allTabLinks.filter(":last").attr("aria-controls"),e.lastPosition=e.$allTabLinks.index(p("#"+e.selectors.tabListItemIdPrefix+e.lastHash))}(e),function(e){e.$allTabContents.attr({role:"tabpanel","aria-hidden":"true"});for(var t=0;t<e.$allTabContents.length;++t){var n=p(e.$allTabContents[t]),o=n.attr("id");n.attr("aria-labelledby",e.selectors.tabListItemIdPrefix+o)}}(e),function(e){if(""!==e.hash&&0!==p("#"+e.hash+e.selectors.tabContentItem).length){var t="#"+e.selectors.tabListItemIdPrefix+e.hash+e.selectors.tabListItemLink;0<p(t+':not([aria-disabled="true"])').length&&g(e,p(t),p("#"+e.hash+e.selectors.tabContentItem))}}(e),function(e){if(""!==e.hash&&0<p("#"+e.hash).parents(e.selectors.tabContentItem).length){var t=p("#"+e.hash).parents(e.selectors.tabContentItem),n=t.attr("id"),o="#"+e.selectors.tabListItemIdPrefix+n+e.selectors.tabListItemLink;0<p(o+':not([aria-disabled="true"])').length&&g(e,p(o),t)}}(e),function(e){if(0===e.$el.find(e.selectors.tabListItemLink+'[aria-selected="true"]').length){var t=0<e.$startLink.length?e.$startLink:e.$firstLink,n=t.attr("aria-controls"),o=p("#"+n);g(e,t,o)}}(e),c.events(e)},init:function(e,t,n){var o,r,i,s,a=(o=e,r=t,i=n,(s=p.extend({},l,i)).name=r,s.componentName=r.split(".")[0],s.componentNamespace=r.split(".")[1],s.$el=o,s);a.hash=window.location.hash.replace("#",""),a.$tabList=a.$el.find(a.selectors.tabList),a.$tabListItems=a.$tabList.children(a.selectors.tabListItem),a.$allTabLinks=a.$tabList.find(a.selectors.tabListItemLink+':not([aria-disabled="true"])'),a.$allTabContents=a.$el.find(a.selectors.tabContent+" > "+a.selectors.tabContentItem),a.$startLink=a.$el.find(a.selectors.tabListItemLink).eq(a.startTab).filter(':not([aria-disabled="true"])'),a.$firstLink=a.$el.find(a.selectors.tabListItemLink+':not([aria-disabled="true"])').filter(":first"),a.selectedParentClass=(a.selectors.tabListItem+a.selectors.tabListItemSelected).replace(/^\./,""),a.focusParentClass=(a.selectors.tabListItem+a.selectors.tabListItemFocus).replace(/^\./,""),Springerverse.Utils.Scheduler.on("load resize orientationchange",function(){!a.mediaQuery||a.mediaQuery&&Springerverse.Utils.DeviceState.gte(a.mediaQuery)?"on"!==a.tabState&&(a.tabState="on",c.on(a)):"off"!==a.tabState&&(a.tabState="off",c.off(a))}),a.$tabListItems.on("focusin",function(){a.$tabListItems.removeClass(a.focusParentClass),p(this).addClass(a.focusParentClass)}).on("focusout",function(){p(this).removeClass(a.focusParentClass)})}};return c}(jQuery),this.Springerverse.Component=this.Springerverse.Component||{},this.Springerverse.Component.ToggleHeadings=function(c){"use strict";var d="js-ShowContent",p="section-icon",u=function(e,t){e.toggleClass(d),e.find("."+p).toggleClass("section-icon--open"),e[0].setAttribute("aria-expanded","false"===e[0].getAttribute("aria-expanded")?"true":"false"),Springerverse.Mediator.emit(t.name,"toggle",d)};return{init:function(e,t,n){var o,r,i,s,a,l=(o=e,r=t,i=n,(s=c.extend({},i)).name=r,s.componentName=r.split(".")[0],s.componentNamespace=r.split(".")[1],s.$el=o,s);l.isCollapsed=!1,l.$el.append('<span class="'+p+'"></span>'),function(e){var t=document.createElement("div");t.dataset.role="collapsible-handle";var n=e.$el[0];n.parentNode.insertBefore(t,n),t.appendChild(n)}(l),(a=l).$el.closest(".FulltextWrapper > *").data("role","collapsible").data("section",a.componentNamespace),Springerverse.Utils.Scheduler.on("load resize orientationchange",function(){l.isCollapsed=Springerverse.Utils.DeviceState.lte(l.mediaQuery),function(e,t){var n=e.$el[0].parentNode,o={tabindex:"0",role:"button","aria-expanded":n.classList.contains(d)?"true":"false"};if(t)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&n.setAttribute(r,o[r]);else for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&n.removeAttribute(i)}(l,l.isCollapsed),l.isCollapsed&&Springerverse.Mediator.emit(l.name,"collapsed")}),l.$el.parent().on("click.Heading."+l.componentNamespace,function(){l.isCollapsed&&u(c(this),l)}),l.$el.parent().on("keydown.Heading."+l.componentNamespace,function(e){13!==e.keyCode&&32!==e.keyCode||!l.isCollapsed||(e.preventDefault(),u(c(this),l))})}}}(jQuery),this.Springerverse.Component=this.Springerverse.Component||{},this.Springerverse.Component.TruncatePersons=function(l){"use strict";var r="u-hide",i=function(e){e.$children.slice(e.maxPersons,e.numPersons).addClass(r)},c={truncatePersons:function(e){if(e.$children=e.$persons.children(),e.numPersons=e.$children.length,e.numPersons>e.maxPersons+2){var t=e.showMore.replace("<val>",e.numPersons-e.maxPersons),n='<li class="'+e.className+'__button" data-role="'+e.etalIdentifier+'"><button class="u-link-like '+e.etalClass+'">'+t+"</button></li>",o='<li class="'+e.className+"__button "+r+'" data-role="'+e.etalIdentifier+'"><button class="u-link-like '+e.etalClass+'">'+e.showLess+"</button></li>";e.$el.addClass(e.etalCollapsedClass),e.$persons.append(n).append(o),i(e),e.$children.eq(e.numPersons-(e.numPersons-e.maxPersons)-1)}},togglePersons:function(e){e.$el.hasClass(e.etalCollapsedClass)?(e.$el.removeClass(e.etalCollapsedClass),e.$el.find(e.etalSelector).toggleClass(r),e.$children.removeClass(r),Springerverse.Mediator.emit(e.name,"open"),e.returnPosition=l(document).scrollTop()):(e.$el.addClass(e.etalCollapsedClass),e.$el.find(e.etalSelector).toggleClass(r),i(e),l("html, body").scrollTop(e.returnPosition||0))},init:function(e,t,n){var o,r,i,s,a=(o=e,r=t,i=n,(s=l.extend({},i)).name=r,s.componentName=r.split(".")[0],s.componentNamespace=r.split(".")[1],s.$el=o,s.className=i.className,s.dataRoleName=i.dataRoleName,s.etalCollapsedClass=s.className+"--enhanced-collapsed",s.etalClass=s.className+"--showhide",s.etalIdentifier=s.dataRoleName+"Etal",s.etalSelector="[data-role="+s.etalIdentifier+"]",s.$persons=o.find("[data-role="+s.dataRoleName+"List] >ul"),s);a.maxPersons&&c.truncatePersons(a),a.$el.on("click touchend","button",function(e){l(e.target).hasClass(a.etalClass)&&c.togglePersons(a)})}};return c}(jQuery),this.Springerverse=this.Springerverse||{},this.Springerverse.Component=this.Springerverse.Component||{},this.Springerverse.Component.Validation=function(v){"use strict";var l={fieldSelector:"[data-role=ValidationField]:not(:hidden)",submitSelector:"[data-role=ValidationSubmit]",submitDisabledClass:"c-button--disabled",errorClass:"error",messageSelector:"[data-role=ValidationMsg]",messageOpen:'<span class="error-msg error-msg--after" data-role="ValidationMsg">',messageClose:"</span>",disableSubmit:!0,focusFirst:!0,displayErrors:!0,validateRequired:!0,validateEmail:!0,HTML5Validation:!0,errors:{},validationText:{required:{error:"This is a required field"},email:{error:"Invalid email address format"}},customValidation:{}},g=function(e,t){return e.validationText[t]?e.validationText[t].error:null},c=function(e,t,n,o){var r,i,s,a,l,c,d,p,u=null,f=null;if("hidden"!==t.type&&o){if(e.validateRequired&&t.getAttribute("data-required")&&0<t.value.length?(u=!0,f=null):e.validateRequired&&t.getAttribute("data-required")?(u=!1,f="required"):u=!0,!t.getAttribute("data-required")||0<t.value.length)for(var m in e.validateEmail&&"email"===t.type&&(f=(u=Springerverse.Utils.Validate.email(t.value))?null:t.type),e.customValidation)if(Object.prototype.hasOwnProperty.call(e.customValidation,m)){var h=e.customValidation[m]||{};if(v(t).is(h.selector)){f=(u=h.validate(t.value))?null:h.message;break}}null!==u&&function(e,t,n,o,r){var i=o?"errorOff":"errorOn",s=e.errors[n]?e.errors[n].message:null;if(o&&n in e.errors&&(Springerverse.Mediator.emit(e.name,i,e.errors[n]),delete e.errors[n]),!o&&s!==r){var a=e.errors[n]={element:t,message:r};Springerverse.Mediator.emit(e.name,i,a)}}(e,t,n,u,g(e,f)),null!==u&&e.displayErrors&&(a=t,l=u,c=g(s=e,f),d=v(a),p=0!==d.next().filter(s.messageSelector).length,d.toggleClass(s.errorClass,!l),l&&p?d.next().remove():!l&&p?d.next(s.messageSelector).text(c):l||p||d.after(s.messageOpen+c+s.messageClose)),0<e.$submit.length&&e.disableSubmit&&null!==u&&(r=e,i=0<Object.keys(e.errors).length,r.$submit.toggleClass(r.submitDisabledClass,i),r.$submit[0].disabled=i)}};return{init:function(e,t,n){var o,r,i,s,a=(o=e,r=t,i=n,(s=v.extend({},l,i)).name=r,s.componentName=r.split(".")[0],s.componentNamespace=r.split(".")[1],s.$el=o,s);a.$submit=e.find(a.submitSelector),a.$validationElements=e.find(a.fieldSelector),a.validateRequired&&a.$validationElements.filter(function(){return v(this).prop("required")&&this.setAttribute("data-required",!0),!0}),a.HTML5Validation||e.attr("novalidate",!0),a.focusFirst&&a.$validationElements.first().focus(),0<a.$validationElements.length&&e.on("keyup focusout",a.fieldSelector,function(e){c(a,this,a.$validationElements.index(this),"focusout"===e.type||v(this).hasClass(a.errorClass))})}}}(jQuery),function(e){"use strict";for(var r,t=["webkit","moz"],n=0;t[n]&&!e.requestAnimationFrame;++n)e.requestAnimationFrame=e[t[n]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[t[n]+"CancelAnimationFrame"]||e[t[n]+"CancelRequestAnimationFrame"];e.supportsRequestAnimationFrame=!0,e.requestAnimationFrame||(e.supportsRequestAnimationFrame=!1,e.requestAnimationFrame=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-r)),o=setTimeout(function(){e(t+n)},n);return r=t+n,o}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(e){clearTimeout(e)})}(window);
"use strict";var Airbrake=function(){var e={projectId:"178929",projectKey:"b456e6db2b2a4e4811feb7dbe1a03a48"};return{init:function(){var o=new airbrakeJs.Client(e);window.addEventListener("error",function(e,t){if(t&&t.includes(window.location.hostname)){for(var n=arguments.length,i=new Array(2<n?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];o.onerror.apply(o,[e,t].concat(i))}}),o.addFilter(function(e){return e.errors&&0<e.errors.length&&!function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).message,t=void 0===e?null:e;return!!window.location.hostname.match("link.springer.com")&&null!==t&&![].includes({message:t})}(e.errors[0])?null:(e.context.environment="Production",e)})}}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}SpringerLink.Utils=Springerverse.Utils||{},SpringerLink.Utils.AjaxRequest=(jQuery,{init:function(e){var t=e.method,n=e.url,i=e.onSuccess,r=e.onError;fetch(n,{method:t}).then(function(e){e.ok||r(request.statusText),i(e.json())}).catch(function(e){r(e)})}}),SpringerLink.Utils=SpringerLink.Utils||{},SpringerLink.Utils.Debounce=(jQuery,{init:function(i,r,o){var a;return function(){var e=this,t=arguments,n=o&&!a;clearTimeout(a),a=setTimeout(function(){a=null,o||i.apply(e,t)},r),n&&i.apply(e,t)}}});var FeatureToggles=function(){function e(){_classCallCheck(this,e),this.features=dataLayer[0].Features}return _createClass(e,[{key:"isFeatureEnabled",value:function(e){return-1<this.features.indexOf(e)}},{key:"Features",get:function(){return this.features}}]),e}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}SpringerLink.Utils=SpringerLink.Utils||{},SpringerLink.Utils.FeatureToggles=new FeatureToggles;var FocusManager=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getElementByHash",value:function(){return document.querySelector(this.urlHash)}},{key:"getNativeFocusableElements",value:function(){return[HTMLAnchorElement,HTMLSelectElement,HTMLTextAreaElement,HTMLInputElement]}},{key:"followFocus",value:function(){if(this.urlHash=window.location.hash,0<this.urlHash.length){var e=this.getElementByHash();e&&this.handleFocusByElementId(e)}}},{key:"handleBlurByElementId",value:function(t){var n;n=function(e){e.target.removeAttribute("tabindex"),t.removeEventListener("blur",n)}.bind(this),t.addEventListener("blur",n)}},{key:"handleFocusByElementId",value:function(e){this.handleBlurByElementId(e),null!==e.getAttribute("tabindex")||this.isNativelyFocusable(e)||e.setAttribute("tabindex","-1"),e.focus()}},{key:"isNativelyFocusable",value:function(t){return this.getNativeFocusableElements().find(function(e){return t instanceof e})}}]),e}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}SpringerLink.Utils=SpringerLink.Utils||{},SpringerLink.Utils.FocusManager=new FocusManager,SpringerLink.Utils=SpringerLink.Utils||{},SpringerLink.Utils.mathjaxTypeset=function(){var t={loadScript:function(i){return new Promise(function(e,t){var n=document.createElement("script");n.type="text/javascript",n.src=i,n.addEventListener("load",function(){return e(n)},!1),n.addEventListener("error",function(){return t(n)},!1),document.body.appendChild(n)})},transformMaths:function(e){var t,n=document.querySelectorAll(e);for(t=0;t<n.length;++t)MathJax.Hub.Queue(["Typeset",MathJax.Hub,n[t]])},init:function(e){0<e.length&&"string"==typeof e&&("undefined"!=typeof MathJax&&void 0!==MathJax.Hub?t.transformMaths(e):this.loadScript("".concat(SpringerLink.staticLocation,"/js/mathJax.js")).then(function(){"undefined"!=typeof MathJax&&void 0!==MathJax.Hub&&t.transformMaths(e)}))}};return t}(),Springerverse.Utils=Springerverse.Utils||{},Springerverse.Utils.ScrollPositionListener=function(e){var a=null,s="";return{init:function(e,t,n){var i,r,o;s=t,(a=e)&&a.addEventListener("scroll",(i=this.handleScrollEvent.bind(this),o=!(r=250),function(){o||(i.apply(null,arguments),o=!0,setTimeout(function(){o=!1},r))}))},getMeasures:function(){var e;return e=a,scrollHeight=e.scrollHeight,scrollTop=e.scrollTop,clientHeight=e.clientHeight,e},handleScrollEvent:function(){[{position:"bottom",validatePosition:this.isScrollInTheBottom.bind(this)},{position:"middle",validatePosition:this.isScrollInTheMiddle.bind(this)}].forEach(function(e){e.validatePosition()&&Springerverse.Mediator.emit("ScrollPositionListener","done",s,e.position)})},isScrollInTheBottom:function(){var e=this.getMeasures();return e.scrollTop+e.clientHeight>=e.scrollHeight},isScrollInTheMiddle:function(){var e=this.getMeasures();return e.scrollHeight/2-e.scrollTop<=e.clientHeight/2}}}(jQuery);var TemplateLoader=function(){function h(){_classCallCheck(this,h);var e={},t=e.templatesSourceContent,n=void 0===t?null:t,i=e.cachedTagsTemplates,r=void 0===i?[]:i,o=e.$templateContainer,a=void 0===o?null:o,s=e.templatesID,c=void 0===s?[]:s,l=e.isMustacheJSLoaded,u=void 0!==l&&l,d=e.namespace,p=void 0===d?null:d;this.state={templatesSourceContent:n,cachedTagsTemplates:r,$templateContainer:a,templatesID:c,isMustacheJSLoaded:u,namespace:p}}return _createClass(h,[{key:"set",value:function(e,t){this.state[e]=t}},{key:"get",value:function(e){return this.state[e]}},{key:"init",value:function(e){var t=this,n=e.templatesID,i=e.namespace;n&&(this.set("templatesID",n),this.set("namespace",i),this.getMustacheJS().then(this.getRawTemplatesFromSource.bind(this)).then(function(e){t.set("templatesSourceContent",e),t.updateDOM(),Springerverse.Mediator.emit("TemplateLoader","done",t.get("namespace")||null)}).catch(function(e){return console.log(e)}))}},{key:"getMustacheJS",value:function(){var i=this;return new Promise(function(e,t){if(i.get("isMustacheJSLoaded"))return e();var n=document.createElement("script");i.handleMustacheJSEvents(e,t,n),n.src="".concat(window.SpringerLink.staticLocation,"/js/mustache-2.3.0.min.js"),document.body.appendChild(n)})}},{key:"handleMustacheJSEvents",value:function(e,t,n){var i,r,o;i=function(){n.removeEventListener("error",o),t()},r=function(){this.set("isMustacheJSLoaded",!0),n.removeEventListener("load",r),e()}.bind(this),o=i.bind(this),n.addEventListener("load",r),n.addEventListener("error",o)}},{key:"updateDOM",value:function(){var e=this.getTemplatesToUse(),t=this.get("$templateContainer");if(t)t.innerHTML+=e;else{this.set("$templateContainer",document.createElement("div")),(t=this.get("$templateContainer")).setAttribute("id","templates-list"),t.innerHTML=e,document.body.appendChild(t)}}},{key:"getTemplatesToUse",value:function(){var i=this,r=this.get("templatesSourceContent"),o="";return this.getTemplatesID().forEach(function(e){i.get("cachedTagsTemplates").push(e);var t=new RegExp('<script\\b[^>]*\\id="'.concat(e,'">([\\s\\S]*?)<\\/script>')),n=r.match(t);n&&(o+=n[0])}),o}},{key:"getTemplatesID",value:function(){var t=this.get("cachedTagsTemplates"),e=this.get("templatesID");return t&&0<t.length&&(e=this.state.templatesID.filter(function(e){return!t.includes(e)})),e}},{key:"getRawTemplatesFromSource",value:function(){var r=this;return new Promise(function(t,n){var e=r.get("templatesSourceContent");if(e)return t(e);var i="".concat(window.SpringerLink.staticLocation,"/js/templates.js");fetch(i,{method:"GET"}).then(function(e){e.ok||n(e.statusText),t(e.text())}).catch(function(e){console.log(e)})})}}]),h}();SpringerLink.Utils=SpringerLink.Utils||{},SpringerLink.Utils.TemplateLoader=new TemplateLoader;var cache,md5="d9df3061a01c62435d23dfb68ca24576",key="fonts",foutFix=function(e){return!!e&&e.foutFix}(document.documentElement.dataset);WebFontConfig={classes:foutFix,events:!1,google:{families:["Source Sans Pro:400,600"]}};var insertFont=function(e){var t=document.createElement("style");t.innerHTML=e,document.head.appendChild(t)},addScript=function(e){var t=e.createElement("script"),n=e.scripts[0];t.src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js",n.parentNode.insertBefore(t,n)},preRender=function(){(cache=window.localStorage.getItem(key))&&((cache=JSON.parse(cache)).md5===md5?insertFont(cache.value):(window.localStorage.removeItem(key),cache=null))},postRender=function(){cache||window.addEventListener("load",function(){var e,t=new XMLHttpRequest,n=window.SpringerLink.staticLocation+"/fonts."+md5+".woff.json";t.open("GET",n,!0),t.addEventListener("load",function(){if(200===this.status)try{e=JSON.parse(this.response),insertFont(e.value),window.localStorage.setItem(key,this.response)}catch(e){addScript(document)}}),t.addEventListener("error",function(){addScript(document)}),t.send()})};function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=_superPropBase(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TocFeedback(){this.elm=$("<div class='tocFeedback'>         <div class='tocFeedback__error'>             <p class='tocFeedback__errorMessageText'>                <svg class='tocFeedback__icon-alert' width='24' height='24' viewBox='0 0 24 24' version='1.1' xmlns='http:\\/\\/www.w3.org/2000/svg'><title>Alert icon</title><defs></defs><g id='Symbols' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'><g id='icon-/-alert'><g id='Alert'><rect id='Bounds' fill='#FFFFFF' opacity='0' x='0' y='0' width='24' height='24'></rect><path d='M10.5,7 L13.5,7 L13,13 L11,13 L10.5,7 Z M12,14.75 L12,14.75 C12.6903559,14.75 13.25,15.3096441 13.25,16 L13.25,16 C13.25,16.6903559 12.6903559,17.25 12,17.25 L12,17.25 C11.3096441,17.25 10.75,16.6903559 10.75,16 L10.75,16 C10.75,15.3096441 11.3096441,14.75 12,14.75 Z M12,21 C7.02943725,21 3,16.9705627 3,12 C3,7.02943725 7.02943725,3 12,3 C16.9705627,3 21,7.02943725 21,12 C21,16.9705627 16.9705627,21 12,21 Z M12,20 C16.418278,20 20,16.418278 20,12 C20,7.581722 16.418278,4 12,4 C7.581722,4 4,7.581722 4,12 C4,16.418278 7.581722,20 12,20 Z' id='Icon' fill='#666666' fill-rule='nonzero'></path></g></g></g></svg>                The contents failed to load            </p>             <button data-retry='true' class='c-button tocFeedback__retry'>Retry</button>         </div>         <div class='tocFeedback__waiting'>             <p class='tocFeedback__waitingMessageText'>Loading...</p>         </div>     </div>"),this.errorElm=this.elm.find(".tocFeedback__error"),this.waitingElm=this.elm.find(".tocFeedback__waiting"),this.attemptedPageNumberRequest=null,this.currentPageNumber=null,this.elm[0].addEventListener("click",this.onClick.bind(this),!0),this.hideErrorMsg(),this.hideWaitingMsg()}!function(t){try{window.localStorage&&(preRender(),postRender())}catch(e){addScript(t)}}(document),function(r,e){var o,a,s="";r.addEventListener?o="addEventListener":(o="attachEvent",s="on"),void 0!==e.onmousewheel&&(a="mousewheel");try{WheelEvent("wheel"),a="wheel"}catch(e){}function i(e,t,n,i){e[o](s+t,"wheel"==a?n:function(e){!e&&(e=r.event);var t={originalEvent:e,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==e.type?0:1,deltaX:0,delatZ:0,preventDefault:function(){e.preventDefault?e.preventDefault():e.returnValue=!1}};return"mousewheel"==a?(t.deltaY=-.025*e.wheelDelta,e.wheelDeltaX&&(t.deltaX=-.025*e.wheelDeltaX)):t.deltaY=e.detail,"function"==typeof n&&n(t)},i||!1)}a||(a="DOMMouseScroll"),r.addWheelListener=function(e,t,n){i(e,a,t,n),"DOMMouseScroll"==a&&i(e,"MozMousePixelScroll",t,n)}}(window,document),SpringerLink.Component=SpringerLink.Component||{},SpringerLink.Component.AnchorScroll=function(i){return{init:function(e,t,n){n.anchorScroll&&e.on("click","."+n.anchorLink,function(){var e=i(this.hash),t=i("."+n.stickyBannerClassName).outerHeight()+5;if((e=e.length?e:i("[id="+this.hash.slice(1)+"]")).length)return i("html,body").animate({scrollTop:e.offset().top-t},500),!1})}}}(jQuery),SpringerLink.Component=SpringerLink.Component||{},SpringerLink.Component.ArticleMetrics=function(i,e){var r=e[0].DOI,o={init:function(t,e,n){0===t.find(".article-metrics").length&&o.pageTypeIsArticle()&&i.ajax({url:n.articleMetricsUrl+r,dataType:"html"}).done(function(e){e&&t.append('<div class="main-context__column">'+e+"</div>")})},pageTypeIsArticle:function(){return"Article"===(e=e||{})[0]["Event Category"]}};return o}(jQuery,dataLayer),SpringerLink.Component=SpringerLink.Component||{},SpringerLink.Component.Authors=function(l){var u="[data-role=AuthorsIndexes]",i="authorsandaffiliations",r="authors",d="authors-affiliations__indexes--highlight",o=function(e){return e.$nav.find("a.selected").outerWidth()},p={setAriaControl:function(e,t){e.$selected.attr("aria-hidden",t)},setFocusableControl:function(e,t){e.$selected.attr("focusable",t)},updateMarkup:function(e){var t=l("#"+i),n=t.find(".content").clone().attr("class","authors-affiliations u-interface");e.$nav.find("span").replaceWith('<a href="#'+r+'" class="selected" data-track="click" data-track-action="Authors tab" data-track-label="">Authors</a>'),e.$navLinks=e.$nav.find("a"),e.$authorsTab.attr("id",r),e.$authorsTab.attr("tabindex","-1"),e.$selected=l("#"+r),e.$nav.after('<span class="marker"></span>'),e.$marker=e.$el.find(".marker"),e.$marker.css({width:o(e)}),Springerverse.Utils.Scheduler.on("resize orientationchange",function(){e.$marker.css({width:o(e)})}),e.$authorsTab.after(n.wrap('<div class="authors__affiliations" id="'+i+'" tabindex="-1"></div>').parent()),t.remove(),e.$affiliations=e.$el.find("#"+i),p.setTabIndex(e.$affiliations,-1),l("nav.toc").find('a[href="#'+i+'"]').parent("li").remove()},setTabIndex:function(e,t){e.find("a[href]").attr("tabindex",t)},switchTabs:function(e,t){var n=l(e.attr("href"));t.$navLinks.toggleClass("selected"),t.$marker.css({transform:"translateX("+e.position().left+"px)",width:e.outerWidth()}),t.$selected.css({height:0,opacity:0}),p.setAriaControl(t,!0),p.setFocusableControl(t,!1),p.setTabIndex(t.$selected,-1),n.css({height:"auto",opacity:1}),t.$selected=n,p.setAriaControl(t,!1),p.setFocusableControl(t,!0),p.setTabIndex(t.$selected,0),t.$selected.focus()},highlightAffiliations:function(e,t,n){for(var i=e.find("li").map(function(){return this.getAttribute("data-affiliation")}),r=0;r<i.length;++r)t.$affiliations.find('[data-affiliation-highlight="'+i[r]+'"]').toggleClass("affiliation--highlight",n)},init:function(e,t,n){var i,r,o,a,s=(i=e,r=t,o=n,(a=l.extend({},o)).name=r,a.componentName=r.split(".")[0],a.componentNamespace=r.split(".")[1],a.$el=i,a.$authorsTab=i.find("[data-role=AuthorsList]"),a.$nav=a.$el.find("[data-role=AuthorsNavigation]"),a);e.addClass("authors--enhanced"),p.updateMarkup(s);var c={componentPrefix:s.componentPrefix,maxPersons:15,showMore:"show <val> more",showLess:"show less",className:"authors",dataRoleName:"Authors"};Springerverse.Component.TruncatePersons.init(s.$el,"Authors",c),s.$nav.on("click touchend","a",function(e){e.preventDefault(),l(e.target).hasClass("selected")||p.switchTabs(l(e.target),s)}),s.$affiliations.on("mouseenter","ul>li",function(){var e=l(this).find(u);e.addClass(d),p.highlightAffiliations(e,s,!0)}).on("mouseleave","ul>li",function(){var e=l(this).find(u);e.removeClass(d),p.highlightAffiliations(e,s,!1)})}};return p}(jQuery),SpringerLink.Component=SpringerLink.Component||{},SpringerLink.Component.Autosuggest=function(l){var u="[data-role=".concat("autosuggest-list","]"),o="[data-role=autosuggest-message]",d={ready:"Type for suggestions",noResults:"No results based on query typed",fetching:"Fetching suggestions",error:"Unable to fetch suggestions"},p={handleSearchQuery:function(e){var t=e.$el[0].querySelector("#springerlink-event-search").value.replace(/[,\/#!$%\^&\*;:{}_`~()?\\]/g," ").replace(/\s\s+/g," ").trim();return 0<t.length&&(t=(t=encodeURIComponent(t)).split("%20").slice().join(",")),t},callEndpoint:function(r){return new Promise(function(t,n){var e=dataLayer[0].content.book.doi,i="".concat(window.location.protocol,"//rweautosuggest.public.springernature.app/suggestions/").concat(e,"?terms=");SpringerLink.Utils.AjaxRequest.init({method:"GET",url:i+r,onSuccess:function(e){t(e)},onError:function(e){n(new Error("There was an error"+e))}}),document.querySelector(o).innerHTML=d.fetching})},onSuccess:function(e){0<e.length?(p.addFragment(e),p.handleMessage()):(p.clearList(),p.handleMessage(d.noResults))},onError:function(){p.clearList(),p.handleMessage(d.error)},createFragment:function(e){var t=document.createDocumentFragment(),n="";for(var i in n+='<ul class="content-type-list" data-role="autosuggest-list">',e)e.hasOwnProperty(i)&&(n+='<li class="content-type-list__item"><a class="content-type-list__link" href="/referenceworkentry/'.concat(e[i].doi,'" data-track="click" data-track-action="Autosuggest link" data-track-label="">').concat(e[i].title,"</a></li>"));return n+="</ul>",t.appendChild(p.convertStringToHTML(n))},convertStringToHTML:function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild},addFragment:function(n){var i=document.querySelectorAll(u),e=document.querySelectorAll("[data-role=autosuggest-output]");Array.from(e).forEach(function(e,t){0<i.length?e.replaceChild(p.createFragment(n),i[t]):e.appendChild(p.createFragment(n))})},clearList:function(){var e=document.querySelectorAll(u),t=Array.from(e);0<e.length&&t.forEach(function(e){e.innerHTML=""})},handleMessage:function(t){var e=document.querySelectorAll(o),n=Array.from(e);n.forEach(function(e){t&&0<n.length?(e.innerHTML=t,e.classList.add("u-js-show")):(e.innerHTML="",e.classList.remove("u-js-show"))})},init:function(e,t,n){var i,r,o,a,s=(i=e,r=t,o=n,(a=l.extend({},o)).name=r,a.componentName=r.split(".")[0],a.componentNamespace=r.split(".")[1],a.$el=i,a),c=SpringerLink.Utils.Debounce.init(function(){var e=p.handleSearchQuery(s);e&&1<=e.length?p.callEndpoint(e).then(p.onSuccess,p.onError).then(function(){Springerverse.Mediator.emit("Autosuggest","listGenerated"),SpringerLink.Utils.mathjaxTypeset.init(u)}):(p.clearList(),p.handleMessage(d.ready))},500);s.$el[0].addEventListener("keyup",function(e){var t=e.keyCode||e.which;9!==t&&37!==t&&38!==t&&39!==t&&40!==t&&c()})}};return p}(jQuery),SpringerLink.Component=SpringerLink.Component||{},SpringerLink.Component.DownloadOptions=function(c){var r={duplicateDropdown:function(e,t){var n=e.$el.clone().prependTo("[data-component=article-actions--inline]"),i=e.name+"--inline";t.duplicated=!0,r.init(n,i,t)},init:function(e,t,n){var i,r,o,a,s=(i=e,r=t,o=n,(a=c.extend({},o)).name=r,a.componentName=r.split(".")[0],a.componentNamespace=r.split(".")[1],a.$el=i,a);e.parent().attr("aria-hidden")&&(t+="-hidden"),e.attr("data-component","SV.Dropdown"),s.duplicate&&c("#article-actions").length&&(n.duplicate=!1,this.duplicateDropdown(s,n)),n.duplicated=!0,Springerverse.Component.Dropdown.init(e,t,n)}};return r}(jQuery),SpringerLink.Component=SpringerLink.Component||{},SpringerLink.Component.DownloadSingleBookOption=function(c){var r={duplicateDropdown:function(e,t){var n=e.$el.clone().prependTo("[data-component=article-actions--inline]"),i=e.name+"--inline";t.duplicated=!0,r.init(n,i,t)},init:function(e,t,n){var i,r,o,a,s=(i=e,r=t,o=n,(a=c.extend({},o)).name=r,a.componentName=r.split(".")[0],a.componentNamespace=r.split(".")[1],a.$el=i,a);s.duplicate&&c("#article-actions").length&&(n.duplicate=!1,this.duplicateDropdown(s,n))}};return r}(jQuery),SpringerLink.Component=SpringerLink.Component||{},SpringerLink.Component.DynamicContentTypeList=function(c){var l={},u=!1,d=null,p=null,h=null,t=!0,g=null;return{getData:function(){return new Promise(function(t,n){var e=dataLayer[0].content.book.doi,i="".concat(window.location.protocol,"//").concat(window.location.host,"/referencework-toc/").concat(e,"?page=").concat(d);p&&h?i="".concat(i,"&partId=").concat(p,"&subPartId=").concat(h):p&&(i="".concat(i,"&partId=").concat(p)),Springerverse.Utils.AjaxRequest.init({method:"GET",url:"".concat(i),onSuccess:function(e){t(e)},onError:function(e){n(Error("There was an error ".concat(e)))}})})},getHtmlFragment:function(e){var n={},t=null;return this.instance.templatesId.forEach(function(e){var t=document.getElementById(e);t&&(n[e]=t.textContent)}),e&&n&&(t=Mustache.render(document.getElementById("rwe-toc").textContent,{toc:e},n)),t},bindEvents:function(){var t=this;Springerverse.Mediator.on("EnhancedPagination:changePage",function(e){t.getData(e).then(function(e){t.render(e)}).catch(function(e){Springerverse.Mediator.emit("EnhancedPagination","enable",{error:e})})}),Springerverse.Mediator.on("EnhancedPagination:updated",function(){Springerverse.Mediator.emit("HighlightTocAnchorItems","change",dataLayer[0].DOI)})},render:function(e){var t='[data-id="dynamic-toc-content"]';document.querySelector(t).innerHTML=this.getHtmlFragment(e),SpringerLink.Utils.mathjaxTypeset.init(t),Springerverse.Mediator.emit("EnhancedPagination","enable")},refreshTocData:function(){var n=this;this.getData().then(function(e){n.render(e);var t={maxPage:e.maxPage,pageNumber:d};Springerverse.Mediator.emit("EnhancedPagination","update",t)}).catch(function(e){p||Springerverse.Mediator.emit("EnhancedPagination","update",{error:e})})},handleAboutReferenceWorkSelectorVisibility:function(e){e?t&&(g.classList.add("u-hide"),g.setAttribute("aria-hidden",!0),g.setAttribute("hidden",""),t=!1):(g.classList.remove("u-hide"),g.removeAttribute("hidden"),g.removeAttribute("aria-hidden"),t=!0)},init:function(e,t,n){var i,r,o,a,s=this;g=document.querySelector("#about-ref-work"),this.instance=(i=e,r=t,o=n,(a=c.extend({},l,o)).name=r,a.componentName=r.split(".")[0],a.componentNamespace=r.split(".")[1],a.$el=i,a.templatesId=o.templatesId,a),u||function(){var n=this;return SpringerLink.Utils.TemplateLoader.init({templatesID:["rwe-toc","rwe-toc-entry","rwe-toc-subpart"],namespace:this.instance.name}),new Promise(function(t){Springerverse.Mediator.on("TemplateLoader:done",function(e){e===n.instance.name&&(u=!0,t())})})}.call(this).then(function(){SpringerLink.Component.EnhancedPagination.init(c(".c-pagination"),"EnhancedPagination",{componentPrefix:"SpringerLink"}),s.bindEvents()}),Springerverse.Mediator.on("Toc:update",function(e){if(e&&(d=Object.prototype.hasOwnProperty.call(e,"pageNumber")?e.pageNumber:d,p=Object.prototype.hasOwnProperty.call(e,"partId")?e.partId:p,h=null,Object.prototype.hasOwnProperty.call(e,"subPartId")&&null!==e.subPartId&&(h=e.subPartId),s.refreshTocData(),g)){var t=1!==d||p;s.handleAboutReferenceWorkSelectorVisibility(t)}}),Springerverse.Mediator.on("Toc:reset",function(e){if(e&&(d=e.pageNumber,h=p=null,s.refreshTocData(),g)){s.handleAboutReferenceWorkSelectorVisibility(!1)}}),Springerverse.Mediator.on("EnhancedPagination:updated",function(){Springerverse.Mediator.emit("HighlightTocAnchorItems","change",dataLayer[0].DOI)})}}}(jQuery),SpringerLink.Component=SpringerLink.Component||{},SpringerLink.Component.EnhancedDynamicStickySideBar=function(r){var o=null,a="",s={},c={},l=[];return{loadTemplates:function(){return SpringerLink.Utils.TemplateLoader.init({templatesID:l}),new Promise(function(t,e){Springerverse.Mediator.on("TemplateLoader:done",function(e){t()})})},initiateInfiniteScroll:function(){SpringerLink.Component.InfiniteScroll.init(o,a,{templates:c})},init:function(e,t,n){var i=this;n&&(c=n.infiniteScroll.templates,l=n.infiniteScroll.templatesId,Springerverse.Mediator.on("StickySidebar:loaded",function(e){this.initiateInfiniteScroll()}.bind(this)),this.loadTemplates().then(function(){o=r("."+n.stickySidebar.selector),a="StickySidebar"+i.name,s=n.stickySidebar.options,SpringerLink.Component.StickySidebar.init(o,a,s)}))}}}(jQuery),TocFeedback.prototype={onClick:function(e){var t=e.target||null;$(t).data("retry")&&(this.hideErrorMsg(),this.clickTocNavButton())},clickTocNavButton:function(){document.querySelector("#js-".concat(this.determineTocNavButtonToRetry(),"-enhanced")).click()},determineTocNavButtonToRetry:function(){return this.attemptedPageNumberRequest>this.currentPageNumber?"next":"previous"},attachTo:function(e){null===this.elm[0].parentElement&&$(e).prepend(this.elm)},showErrorMsg:function(e,t){this.hideWaitingMsg(),this.errorElm.show(),this.attemptedPageNumberRequest=e,this.currentPageNumber=t},hideErrorMsg:function(){this.errorElm.hide()},showWaitingMsg:function(){this.waiting&&this.waitingElm.show()},hideWaitingMsg:function(){this.waitingElm.hide()},startWaiting:function(){this.hideErrorMsg(),this.hideWaitingMsg(),this.waiting=!0,this.waiter=window.setTimeout(this.showWaitingMsg.bind(this),1e3)},stopWaiting:function(){this.waiting=!1,this.hideWaitingMsg()}},SpringerLink.Component=SpringerLink.Component||{};var EnhancedPagination=function(l){var u=null,n=new TocFeedback;return{pageNumber:null,totalPages:null,toggleDeactivationOnPaginationAnchors:function(e){e.classList.contains("u-disable-pointer-event")?e.classList.remove("u-disable-pointer-event"):e.classList.add("u-disable-pointer-event"),this.handleAriaAttributes()},handleAriaAttributes:function(){var e=this.selectors,t=e.nextButtonSelector,n=e.previousButtonSelector,i=t.getAttribute("aria-hidden"),r=n.getAttribute("aria-hidden");this.pageNumber===this.totalPages?t.setAttribute("aria-hidden","true"):this.pageNumber<this.totalPages&&1<this.pageNumber?("true"!==i&&null!==i||t.setAttribute("aria-hidden","false"),"true"!==r&&null!==r||n.setAttribute("aria-hidden","false")):1===this.pageNumber&&n.setAttribute("aria-hidden","true")},toggleElementsVisibility:function(){var e=this,t=this.selectors;[[t.previousButtonSelector,function(){return 1===e.pageNumber}],[t.nextButtonSelector,function(){return e.pageNumber===e.totalPages}]].forEach(function(e){e[0]&&(e[1]()?e[0].classList.add("u-hide"):e[0].classList.remove("u-hide"))})},updatePageNumberForm:function(){this.selectors.pageNumberFormSelector.value=this.pageNumber,this.selectors.current.innerHTML=this.pageNumber},updateMaxPageNumber:function(){var t=this,e=this.selectors,n=e.maxPageSelector,i=e.maxPageInputs;n.innerHTML=this.totalPages,Array.from(i).forEach(function(e){e.setAttribute("max",t.totalPages)})},navigateToPage:function(e){this.pageNumber=e,n.startWaiting(),Springerverse.Mediator.emit("Toc","update",{pageNumber:e})},handleNavigation:function(e){this.navigateToPage(this.getCurrentPageOnUrl())},onClickEventHandler:function(e){var t=l(e.target).closest("a"),n=t?t.attr("id"):null,i=n&&("js-next"===n||"js-previous"===n),r=null,o=null;if(t.hasClass("u-disable-pointer-event"))return e.stopPropagation(),e.preventDefault(),!1;if(e.target===e.currentTarget)return!1;if(i){var a=this.selectors,s=a.nextButtonSelector,c=a.previousButtonSelector;e.preventDefault(),r="js-next"===n?(o=this.pageNumber+1,s):(o=this.pageNumber-1,c),u=this.pageNumber,o&&o<=this.totalPages&&(this.navigateToPage(o),this.updatePageNumberForm(),this.toggleDeactivationOnPaginationAnchors(r))}},onSubmitEventHandler:function(e){if(e.preventDefault(),"FORM"===e.target.tagName&&"js-page-number"===e.target.getAttribute("id")?e.target.getAttribute("id"):null){var t,n=this.selectors.pageNumberFormSelector;n.value?t=parseInt(n.value,10)||1:(t=1,n.value=t),u=this.pageNumber,this.navigateToPage(t),n.blur()}},getCurrentPageOnUrl:function(){return dataLayer[0].hasOwnProperty("CurrentPage")?dataLayer[0].CurrentPage:parseInt(this.selectors.pageNumberFormSelector.value)},getMaxPage:function(){return dataLayer[0].hasOwnProperty("MaxPage")?dataLayer[0].MaxPage:parseInt(this.selectors.pageNumberFormSelector.getAttribute("max"))},enableControls:function(){var e=Array.prototype.slice.call(document.querySelectorAll(".u-disable-pointer-event"));e.length&&e.forEach(function(e){e.classList.remove("u-disable-pointer-event")})},onErrorHandling:function(){n.showErrorMsg(pageNumber,u),this.pageNumber=u,this.updatePageNumberForm()},selectors:{pageNumberFormSelector:document.querySelector("[id^='page-number']"),previousButtonSelector:document.querySelector("#js-previous"),nextButtonSelector:document.querySelector("#js-next"),maxPageSelector:document.querySelector("#maxPageNumber"),maxPageInputs:document.querySelectorAll('[name="page"]'),current:document.querySelector("[aria-current]")},init:function(){var t=this;n.attachTo(l(".sticky-sidebar-toc .js-contents")),this.totalPages=this.getMaxPage(),this.pageNumber=this.getCurrentPageOnUrl(),u=this.pageNumber,document.querySelector(".c-pagination").addEventListener("click",this.onClickEventHandler.bind(this)),document.querySelector("#js-page-number").addEventListener("submit",this.onSubmitEventHandler.bind(this)),window.history&&history.pushState&&window.addEventListener("popstate",this.handleNavigation.bind(this)),this.toggleElementsVisibility(),this.updatePageNumberForm(),Springerverse.Mediator.on("EnhancedPagination:update",function(e){e&&(Object.prototype.hasOwnProperty.call(e,"pageNumber")&&(t.pageNumber=e.pageNumber),Object.prototype.hasOwnProperty.call(e,"maxPage")&&(t.totalPages=e.maxPage)),t.enableControls(),n.stopWaiting(),e&&Object.prototype.hasOwnProperty.call(e,"error")?t.onErrorHandling(e.error):(t.toggleElementsVisibility(),t.updatePageNumberForm(),t.updateMaxPageNumber(),Springerverse.Mediator.emit("EnhancedPagination","updated",t.getCurrentPageOnUrl()))}),Springerverse.Mediator.emit("EnhancedPagination","ready")}}}(jQuery);function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}SpringerLink.Component.EnhancedPagination=function(){var r,o=this.Springerverse.Component.Pagination,a=r={init:function(e,t,n){var i=this;return Springerverse.Mediator.on("EnhancedPagination:ready",function(){Object.setPrototypeOf(i,o),_get(_getPrototypeOf(r),"init",i).call(i,e,t,n)}),EnhancedPagination.init(e,t,n),a}};return a}(),SpringerLink.Component=SpringerLink.Component||{},SpringerLink.Component.GoogleAds=function(l){var u={googletag:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(n){var e=function(){var e=l.grep(definedSlots,function(e){return e.containerName===n.slotId}),t=googletag.defineSlot(adSlot,e[0].slot,n.slotId).addService(googletag.pubads());googletag.display(n.slotId),googletag.pubads().refresh([t])};window.definedSlots&&window.googletag&&googletag.apiReady&&googletag.cmd.push(function(){"native"===n.componentNamespace?Springerverse.Utils.Lazyload.init(document.querySelector("#"+n.slotId),e,{rootMargin:"0% 0% 300px 0%"}):e(),googletag.pubads().addEventListener("slotRenderEnded",function(e){e.isEmpty||e.slot.getSlotElementId()!==n.slotId||n.$el.removeClass("u-hide")})})}),add:function(e){e.$el.find("."+e.stylingClass+"__hide").on("click",function(){document.cookie=e.slotId+"=closed;path=/",e.$el.hide()}),u.googletag(e)},init:function(e,t,n){var i,r,o,a,s=(i=e,r=t,o=n,(a=l.extend({},o)).name=r,a.componentName=r.split(".")[0],a.componentNamespace=r.split(".")[1],a.$el=i,a);s.slotId=n.slotId,s.stylingClass=n.stylingClass,s.breakpoint=n.breakpoint;var c=!1;Springerverse.Utils.Scheduler.on("load resize orientationchange",function(){document.cookie.indexOf(s.slotId+"=closed")<0&&Springerverse.Utils.DeviceState.gte(s.breakpoint)&&!c&&(u.add(s),c=!0)})}};return u}(jQuery),SpringerLink.Component=SpringerLink.Component||{},SpringerLink.Component.HighlightTocAnchorItems=function(c){var l="content-type-list__item--current",u=null;return{removeHighLightClass:function(){var e=u.querySelector(".".concat(l));null!==e&&e.classList.remove(l)},addHighLightClassByHash:function(){var e=u.querySelector('a[href="'.concat(window.location.hash,'"]'));e&&e.parentNode.parentNode.classList.add(l)},addHighLightClassByIdentifier:function(e){var t=u.querySelector(e),n=c(t).closest(".".concat("content-type-list__item"));n&&n.addClass(l)},init:function(e,t,n){var i,r,o,a,s=this;i=e,r=t,o=n,(a=c.extend({},o)).name=r,a.componentName=r.split(".")[0],a.componentNamespace=r.split(".")[1],a.$el=i,u=a.$el[0],window.addEventListener("popstate",function(e){window.location.hash&&(s.removeHighLightClass(),s.addHighLightClassByHash())}),Springerverse.Utils.Scheduler.on("load",function(e){if(window.location.hash)s.addHighLightClassByHash();else if(!u.querySelector(".".concat(l))){var t='a[href*="'.concat("#introduction",'"]');s.addHighLightClassByIdentifier(t)}}),u.addEventListener("click",function(e){e.target.classList.contains("content-type-list__link")&&(s.removeHighLightClass(),s.addHighLightClassByHash())},!1),Springerverse.Mediator.on("HighlightTocAnchorItems:change",function(e){if(!u.querySelector(".".concat(l))&&e){var t='[data-id="'.concat(e,'"]');s.addHighLightClassByIdentifier(t)}})}}}(jQuery),SpringerLink.Component=SpringerLink.Component||{},SpringerLink.Component.InfiniteScroll=function(e){var o=!1,n=1,a=!0,s=null;return{$el:null,$defaultContentContainerSelector:null,throttle:function(e,t){var n=!1;return function(){n||(e.apply(null,arguments),n=!0,setTimeout(function(){n=!1},t))}},handleSpinnerVisibility:function(e){Springerverse.Mediator.emit("Spinner","change","Spinner."+this.name,e)},hideSpinner:function(){this.handleSpinnerVisibility(!1)},showSpinner:function(){this.handleSpinnerVisibility(!0)},getTemplate:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i={entries:["rwe-toc-entry"],subpart:["rwe-toc-entry"],toc:["rwe-toc-entry",["rwe-toc-subpart"]]};return i[e]&&i[e].forEach(function(e){n[e]=document.getElementById(e).textContent}),Mustache.render(document.getElementById(this.templates[e]).textContent,t,n)},renderAContinuationFromPrevious:function(o){var a=this,e=o.children[0].children,s=null,c="";s=document.querySelectorAll("[data-part='".concat(this.lastPartId,"']"))[0].getElementsByClassName("content-type-list")[0],e.forEach(function(e){var t=e,n="entry",i=t.hasOwnProperty("subpartTitle"),r=t.hasOwnProperty("partTitle");i?t.subpartTitle===a.lastSubpartId?(s=document.querySelector("[data-part='".concat(a.lastSubpartId,"']")).getElementsByClassName("content-type-list")[0],n="entries",t={entries:t.children}):n="subpart":r&&(n="toc",t={toc:o}),c+=a.getTemplate(n,t)}),s.innerHTML+=c},render:function(e){var t=e,n=t.children.slice(-1)[0],i=t.hasOwnProperty("children"),r="";i&&t.children[0].partTitle===this.lastPartId?(this.renderAContinuationFromPrevious(t),1<t.children.length&&(t.children.shift(),r=this.getTemplate("toc",{toc:t}))):r=this.getTemplate("toc",{toc:t}),this.$defaultContentContainerSelector.innerHTML+=r,this.lastPartId=i?n.partTitle:this.lastPartId,this.lastSubpartId=n&&n.hasOwnProperty("children")?n.children.slice(-1)[0].subpartTitle:this.lastSubpartId},onSuccess:function(e){var t=e.hasOwnProperty("children")&&0<e.children.length;o=!1,s.classList.add("u-hide"),t?this.render(e):(a=!1,this.hideSpinner())},onError:function(e){o=!1,this.setCurrentPage("previous"),this.hideSpinner(),s.classList.remove("u-hide")},getData:function(){var r=this;return new Promise(function(t,n){var e=dataLayer[0].content.book.doi,i="".concat(window.location.protocol,"//").concat(window.location.host,"/referencework-toc/").concat(e);SpringerLink.Utils.AjaxRequest.init({method:"GET",url:"".concat(i,"?page=").concat(r.getCurrentPage()),onSuccess:function(e){t(e)},onError:function(e){n(Error("There was an error"+e))}}),o=!0})},getCurrentPage:function(){return n},setCurrentPage:function(e){var t=this;n={previous:function(){return t.getCurrentPage()-1},next:function(){return t.getCurrentPage()+1}}[e]()},getNextPage:function(){this.setCurrentPage("next"),this.getData().then(this.onSuccess.bind(this),this.onError.bind(this))},init:function(e,n,t){var i=this;this.name=n,this.$el=e[0],s=document.getElementsByClassName("error")[0],Springerverse.Utils.ScrollPositionListener.init(this.$el,this.name),Springerverse.Mediator.on("ScrollPositionListener:done",function(e,t){e===n&&{bottom:function(){o&&i.showSpinner()},middle:function(){a&&!o&&i.getNextPage()}}[t]()});var r=document.querySelector("[data-id='toc']").lastElementChild;this.templates=t.templates,this.lastPartId=r.getAttribute("data-part"),this.lastSubpartId=r.getElementsByClassName("content-type-list")[0].lastElementChild.getAttribute("data-part"),this.$defaultContentContainerSelector=document.getElementsByClassName("js-contents")[0].firstElementChild}}}(jQuery),SpringerLink.Component=SpringerLink.Component||{},SpringerLink.Component.LayoutHandler=function(r){var o=null,a=null,s=null,c=null,l=null,u=null,i=null,n=null,d=null,p=null,h=null;return{initStickySidebarFlexboxComponent:function(){var e=r("#toc .sticky-sidebar-toc");0<e.length&&SpringerLink.Component.StickySidebarFlexbox.init(e,"toc",{mediaQuery:"two-col-medium",padding:36})},addClassesForTabs:function(){c.classList.add("c-tabs__content"),c.classList.add("c-tabs--rwe__content"),Array.from(c.childNodes).forEach(function(e){var t=e.id;"springerlink-search"!==t&&"toc"!==t&&"download-book"!==t||(e.classList.add("c-tabs__content-item"),e.classList.add("c-tabs--rwe__content-item"))})},getTabOrder:function(){var e=this.currentTab,t=0;return e&&(t={toc:0,"springerlink-search":1,"download-book":2}[e]),t},createObserverForDOMChanges:function(){var e=this,t=new MutationObserver(function(){SpringerLink.Component.TabPanel.init(r("#main-aside"),"Tabs",{initialiseTabs:!0,startTab:e.getTabOrder(),componentPrefix:"SpringerLink"}),t.disconnect()});t.observe(document.querySelector("#main-aside"),{childList:!0})},makeLayoutWide:function(){null!==i&&Springerverse.Component.Tabs.off(this.springerTabInstance),!1===this.widelayoutGenerated?(this.addClassesForTabs(),this.createObserverForDOMChanges(),u.appendChild(c),s.appendChild(u),u&&u.classList.remove("u-js-hide"),this.widelayoutGenerated=!0):SpringerLink.Component.TabPanel.init(r("#main-aside"),"Tabs",{initialiseTabs:!0,startTab:this.getTabOrder(),componentPrefix:"SpringerLink"}),["click","touchend"].forEach(function(e){return u.removeEventListener(e,h)}),this.isNarrow=!1},onModalCreated:function(e){i=document.querySelector("#popup-panel"),n=i.querySelector("#popup-panel-content"),d=i.querySelector("#close"),e()},generateSkeletonHTMLModal:function(){var e=document.createElement("div");e.setAttribute("role","dialog"),e.setAttribute("id","popup-panel"),e.setAttribute("tabIndex","-1"),e.setAttribute("class","u-composite-layer popup-panel"),e.innerHTML='<div class="popup-panel__container">\n                                        <div id="popup-panel-content" class="popup-panel__inner"></div>\n                                        <button id="close" class="popup-panel__close icon--close-btn">close</button>\n                                    </div>';var t=document.createElement("div");t.setAttribute("class","popup-overlay"),t.setAttribute("id","popup-overlay"),p.appendChild(e),p.appendChild(t)},generateModal:function(){var n=this;return new Promise(function(e){if(null===i){var t=new MutationObserver(function(){n.onModalCreated(e),t.disconnect()});t.observe(p,{childList:!0}),n.generateSkeletonHTMLModal(),p.setAttribute("style","overflow-y:hidden; position: fixed; width: 100%")}else e()})},onCloseModal:function(){c.classList.add("u-js-hide"),o.insertBefore(u,a),s.appendChild(c),null!==i&&(i.remove(),i=null,document.querySelector("#popup-overlay").remove(),this.springerTabInstance=null,this.isPopupPanelOpen=!1),document.querySelector(".content-type-list").removeAttribute("style"),p.removeAttribute("style"),["click","touchend"].forEach(function(e){return u.addEventListener(e,h)})},onPopupPanelContentGenerated:function(){SpringerLink.Component.TabPanel.init(r("#popup-panel-content"),"TabPanel",{initialiseTabs:!0,startTab:this.getTabOrder(),componentPrefix:"SpringerLink"})},insertContentIntoModal:function(){u.appendChild(c),n.appendChild(u),c.classList.remove("u-js-hide");var t=document.querySelector("#c-tabs");["click","touchend"].forEach(function(e){return t.removeEventListener(e,h)})},createModal:function(){var t=this;this.generateModal().then(function(){t.isPopupPanelOpen=!0,Springerverse.Mediator.on("Tabs.referenceWork:tabsOff",function(){t.onCloseModal()});var e=new MutationObserver(function(){t.onPopupPanelContentGenerated(),r('#popup-panel a[href="#'.concat(t.currentTab,'"]')).focus(),e.disconnect()});e.observe(n,{childList:!0}),t.insertContentIntoModal(),d.addEventListener("click",function(){Springerverse.Component.Tabs.off(t.springerTabInstance),SpringerLink.Component.TabPanel.disableTabPanelEvent()})})},makeLayoutNarrow:function(){this.widelayoutGenerated?(s.appendChild(c),o.insertBefore(u,a),Springerverse.Component.Tabs.off(this.springerTabInstance),this.widelayoutGenerated=!1):SpringerLink.Component.TabPanel.init(r("#main-aside"),"Tabs",{initialiseTabs:!1,startTab:this.getTabOrder(),componentPrefix:"SpringerLink"}),u&&u.classList.remove("u-js-hide");var t=document.querySelector("#c-tabs");["click","touchend"].forEach(function(e){return t.addEventListener(e,h)}),this.isNarrow=!0},handleTabsVisibility:function(){Springerverse.Utils.DeviceState.gte("two-col-medium")?this.makeLayoutWide():this.makeLayoutNarrow()},onClickEventHandler:function(e){var t=r(e.target).closest("a"),n=t?t.attr("href"):null,i=n&&("#toc"===n||"#springerlink-search"===n||"#download-book"===n);if(e.target===e.currentTarget)return!1;i&&(this.currentTab=n.match("[^#].*")[0],e.preventDefault(),this.createModal())},setPopUpContentHeight:function(){var e=document.documentElement.clientHeight,t=document.querySelector("#main-aside-content").offsetTop,n=document.querySelector("#springerlink-search .content-type-list"),i=null,r=0;"toc"===this.currentTab?(i=document.querySelector(".sticky-sidebar-toc"),r=e-(document.querySelector(".sticky-sidebar-toc").offsetTop+t)):"springerlink-search"===this.currentTab&&n&&(i=document.querySelector('[data-role="autosuggest-list"]'),r=e-(n.offsetTop+t)-80),i&&i.setAttribute("style","height:".concat(r,"px;overflow-y: auto"))},calculateHeights:function(){i&&(i.setAttribute("style","height: ".concat(parseInt(document.documentElement.clientHeight,10),"px")),"toc"!==this.currentTab&&"springerlink-search"!==this.currentTab||this.setPopUpContentHeight())},init:function(e,t,n){var i=this;this.springerTabInstance=null,this.partSelectorInstance=null,this.currentTab=null,this.isPopupPanelOpen=!1,this.stickySidebarFlexboxInitiated=!1,this.widelayoutGenerated=!1,this.isNarrow=!1,h=function(e){this.onClickEventHandler(e)}.bind(this),r(document).ready(function(){o=document.querySelector("#main-content"),a=document.querySelector("#main-container"),s=document.querySelector("#main-aside"),c=document.querySelector("#main-aside-content"),l=document.querySelector("#part-selector-select"),u=document.querySelector("#c-tabs"),p=document.querySelector("body"),i.handleTabsVisibility()}),Springerverse.Utils.Scheduler.on("resize orientationchange",function(){Springerverse.Utils.DeviceState.gte("two-col-medium")?i.isNarrow&&i.makeLayoutWide():i.isNarrow&&i.isPopupPanelOpen?i.calculateHeights():i.makeLayoutNarrow()}),Springerverse.Mediator.on("PartSelector:ready",function(){l.classList.remove("u-hide"),i.partSelectorInstance=!0,!i.stickySidebarFlexboxInitiated&&Springerverse.Utils.DeviceState.gte("two-col-medium")&&(i.initStickySidebarFlexboxComponent(),i.stickySidebarFlexboxInitiated=!0)}),Springerverse.Mediator.on("TabPanel:ready",function(e,t){i.springerTabInstance=t,null===i.partSelectorInstance&&SpringerLink.Component.PartSelector.init(l,"partSelector"),Springerverse.Utils.FeatureToggles.isFeatureEnabled("partSelector")||!i.stickySidebarFlexboxInitiated&&Springerverse.Utils.DeviceState.gte("two-col-medium")&&(i.initStickySidebarFlexboxComponent(),i.stickySidebarFlexboxInitiated=!0),i.isPopupPanelOpen&&(i.currentTab=e,i.calculateHeights())}),Springerverse.Mediator.on("Autosuggest:listGenerated",function(){i.calculateHeights()})}}}(jQuery);var PartSelectionListModel=function(){function t(e){_classCallCheck(this,t),this.data=e}return _createClass(t,[{key:"filterBySubParts",value:function(){return this.PartSelectionBlockList.filter(function(e){return Object.prototype.hasOwnProperty.call(e,"subParts")})}},{key:"hasPartSelection",value:function(){return Object.prototype.hasOwnProperty.call(this.data,"parts")&&0<this.data.parts.length}},{key:"findSubPart",value:function(e,t){var n=null;return e.forEach(function(e){parseInt(e.subPartId,10)===t&&(n=e)}),n}},{key:"getPartBySubPartId",value:function(t){var n=this,i=null;return this.filterBySubParts().forEach(function(e){n.findSubPart(e.subParts,t)&&(i=e)}),i}},{key:"PartSelectionBlockList",get:function(){return this.hasPartSelection()?this.data.parts:[]}}]),t}();function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}function _arrayWithHoles(e){if(Array.isArray(e))return e}SpringerLink.Component=SpringerLink.Component||{},SpringerLink.Component.PartSelector=function(c){var t="c-select__container--hovered",n=null,l=null;return{loadTemplates:function(){var n=this;return SpringerLink.Utils.TemplateLoader.init({templatesID:["rwe-part-selected-toc"],namespace:this.instance.name}),new Promise(function(t){Springerverse.Mediator.on("TemplateLoader:done",function(e){e===n.instance.name&&t()})})},getPartList:function(){return new Promise(function(t,n){var e=dataLayer[0].content.book.doi,i="".concat(window.location.protocol,"//").concat(window.location.host,"/book-parts/").concat(e);SpringerLink.Utils.AjaxRequest.init({method:"GET",url:i,onSuccess:function(e){t(e)},onError:function(e){n(Error("There was an error"+e))}})})},getHtmlFragment:function(){return Mustache.render(document.getElementById("rwe-part-selected-toc").textContent,{parts:this.instance.dataModel.PartSelectionBlockList})},render:function(){var e=this.instance.$el;e.innerHTML+=this.getHtmlFragment(),n=document.querySelector("#part-selection"),e.addEventListener("change",this.onChangeEventHandler.bind(this)),e.addEventListener("mouseover",function(){n.classList.add("c-select__item--hovered"),l.classList.add("c-select__container--hovered")}),e.addEventListener("mouseout",function(){n.classList.remove("c-select__item--hovered"),l.classList.remove("c-select__container--hovered")}),e.addEventListener("focus",function(){n.focus(),l.classList.add(t)}),n.addEventListener("blur",function(){l.classList.remove(t)})},onError:function(){},getPartId:function(){var e=null,t=this.getSelectedOption();return t&&(e=1===this.instance.selectedType?t:this.instance.dataModel.getPartBySubPartId(t).partId),e},getSubPartId:function(){var e=this.getSelectedOption();return e&&2===this.instance.selectedType?e:null},updateSelectedOptionSelector:function(){var e=document.querySelector("[selected]");e&&e.removeAttribute("selected"),this.instance.$selectedOptionSelector.setAttribute("selected","")},getEventArguments:function(){return Object.assign({partId:this.getPartId(),subPartId:this.getSubPartId()},{pageNumber:1})},getEventType:function(){return this.getSelectedOption()?"update":"reset"},getSelectedOption:function(){return parseInt(this.instance.selectedOption&&this.instance.selectedOption.getAttribute("data-id"),10)},updateStyles:function(){var e=l.classList.contains(t);this.getSelectedOption()?e||l.classList.add(t):e&&l.classList.remove(t)},onChangeEventHandler:function(e){this.setSelectedOptions(e),this.updateSelectedOptionSelector(),n.classList.remove("c-select__item--hovered"),l.classList.remove("c-select__container--hovered"),this.truncateSelectedOption(),Springerverse.Mediator.emit("Toc",this.getEventType(),this.getEventArguments())},truncateSelectedOption:function(){var e=this.instance.$selectedOptionSelector,t=this.instance.selectedOption.getAttribute("value");20<t.length&&(e.innerText="".concat(t.substring(0,20),"..."))},setSelectedOptions:function(e){this.instance.selectedOption=e.target[e.target.selectedIndex],this.instance.$selectedOptionSelector=this.instance.selectedOption,this.instance.selectedType=parseInt(this.instance.$selectedOptionSelector.getAttribute("data-type"),10)},setDataModel:function(e){this.instance.dataModel=new PartSelectionListModel(e)},init:function(e,t,n){var i,r,o,a,s=this;l=document.querySelector("#part-selector-select"),Springerverse.Utils.FeatureToggles.isFeatureEnabled("partselector")&&(this.instance=(i=e,r=t,o=n,(a=c.extend({},o)).name=r,a.componentName=r.split(".")[0],a.componentNamespace=r.split(".")[1],a.$el=i,a),this.loadTemplates().then(this.getPartList).then(this.setDataModel.bind(this)).then(function(){if(s.instance.dataModel.hasPartSelection())s.render(),Springerverse.Mediator.emit("PartSelector","ready");else{var e=s.instance.$el[0];e.setAttribute("aria-hidden",!0),e.setAttribute("hidden","")}}).catch(this.onError))}}}(jQuery),SpringerLink.Component=SpringerLink.Component||{},SpringerLink.Component.PdfPreview=(jQuery,{init:function(e,t,n){Springerverse.Utils.Scheduler.on("load",function(){e.children('[data-fallback-text="true"]').is(":visible")&&e.removeClass(n.heightClass)})}}),SpringerLink.Component=SpringerLink.Component||{},SpringerLink.Component.References=(jQuery,{init:function(e,t,n){var i=e.find("a").attr("href");i&&i.replace(/\D/g,""),e.find("a").attr("title","View reference");var r={componentPrefix:n.componentPrefix,group:"references",control:"a",bounds:".FulltextWrapper",boundsOffsetArray:[26,0],theme:"popup-base-theme",popupWidthPercentage:75,hiddenPopup:!1};Springerverse.Component.Popup.init(e,"Popup."+t+i,r)}}),SpringerLink.Component=SpringerLink.Component||{},SpringerLink.Component.Spinner=(jQuery,{init:function(e,i,t){var r=e[0];Springerverse.Mediator.on("Spinner:change",function(e,t){var n=t?"remove":"add";e===i&&(r.classList[n]("u-hide"),r.setAttribute("aria-busy",t))})}}),SpringerLink.Component=SpringerLink.Component||{},SpringerLink.Component.StickyBanner=function(c){var n="sticky-banner",l=n+"__buybox-link > a",t=n+"__title",u="u-hide",d={linkScroll:function(e){var t={componentPrefix:e.componentPrefix,anchorLink:l,stickyBannerClassName:n,anchorScroll:!0};SpringerLink.Component.AnchorScroll.init(e.$el,"AnchorScroll."+e.name,t)},copyTitle:function(e){e.titleLengthClass=t+"--"+e.titleLength,e.$bannerTitle='<span class="'+t+" "+e.titleLengthClass+' u-overflow-ellipsis" title="'+e.$titleSelector.text()+'">'+e.$titleSelector.text()+"</span>",e.$titleSelector&&e.$el.children().prepend(e.$bannerTitle)},toggleBanner:function(e){e.stickyPoint<=0?e.$el.removeClass(u):e.$el.addClass(u)},stickyBehavior:function(e){e.stickyPoint<=0&&e.$el.css({width:e.$window.width(),zIndex:1e4,position:"fixed",top:0,left:0})},init:function(e,t,n){var i,r,o,a,s=(i=e,r=t,o=n,(a=c.extend({},o)).name=r,a.componentName=r.split(".")[0],a.componentNamespace=r.split(".")[1],a.$el=i,a);s.$window=c(window),s.$bannerLink=c("."+l),s.$stickyFrom=c(n.stickyFrom),s.$titleSelector=c(n.title),s.mediaQuery=n.mediaQuery,n.showTitle&&d.copyTitle(s),Springerverse.Utils.Scheduler.on("load scroll resize orientationchange",function(){Springerverse.Utils.DeviceState.lt(s.mediaQuery)||!1===s.mediaQuery?(s.stickyPoint=s.$stickyFrom.offset().top-n.buttonPaddingTop-s.$window.scrollTop(),d.stickyBehavior(s),d.toggleBanner(s)):s.$el.addClass(u)}),s.$bannerLink.length&&d.linkScroll(s)}};return d}(jQuery),SpringerLink.Component=SpringerLink.Component||{},SpringerLink.Component.StickySidebarFlexbox=function(){var a={zIndex:300,overflow:"auto",overflowY:"auto",overflowX:"hidden",position:"fixed"},s=null,c=null,l=null,u=null,d=null;function p(){return void 0!==window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0}function h(e){var t=p();return parseInt(c.getBoundingClientRect().top+p())-e.padding-t<=0}return{handleComponentStyles:function(e){if(Springerverse.Utils.DeviceState.gte(e.mediaQuery)){var t=parseInt(c.getBoundingClientRect().width),n=h(e);n||s.removeAttribute("style");var i=Object.assign({},a,{width:t,height:function(e){var t=parseInt(document.documentElement.clientHeight),n=p(),i=0;if(e){var r=parseInt(l.offsetTop)-n-t;i=t-(r<0?Math.abs(r):0)}else{var o=parseInt(s.getBoundingClientRect().top),a=parseInt(c.getBoundingClientRect().top);i=parseInt(d.clientHeight)-(o-a)+parseInt(u.offsetHeight)}return i}(n),top:n?0:parseInt(s.getBoundingClientRect().top)});r=i,o=s,Object.entries(r).forEach(function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1],r=Number.isInteger(i)&&"zIndex"!==n;o.style[n]="".concat(i).concat(r?"px":"")})}else s.removeAttribute("style");var r,o},init:function(e,t,n){var i,r=this;s=e[0],c=s.parentElement,l=document.querySelector(".footer"),u=document.querySelector(".unified-header"),d=document.querySelector(".main-body__content"),i=s,(/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||safari.pushNotification).toString())&&addWheelListener(i),Springerverse.Utils.Scheduler.on("load scroll resize orientationchange",function(){r.handleComponentStyles(n)}),Springerverse.Mediator.on("StickySidebarFlexbox:update",function(){r.handleComponentStyles(n)})}}}(),SpringerLink.Component=SpringerLink.Component||{},SpringerLink.Component.StickySidebar=function(i){return{init:function(e,t,r){var o=i(window),a={$el:e,$container:r.container},s=a.$el.parent("[data-role=sticky-wrapper]"),c=i("footer"),l=function(){var e=document.createElement("p"),t=document.createElement("div");e.style.width="100%",e.style.height="200px",t.className="u-custom-scrollbar",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var i=e.offsetWidth;return n===i&&(i=t.clientWidth),document.body.removeChild(t),n-i}(),u=null,n=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||safari.pushNotification).toString();Springerverse.Utils.Scheduler.on("load scroll resize orientationchange",function(){if(Springerverse.Utils.DeviceState.gte(r.mediaQuery)){var e=r.hasOwnProperty("showScrollInsideBox");if(s.offset().top-r.padding-o.scrollTop()<=0){var t=c.offset().top-o.scrollTop()-o.height(),n=t<0?Math.abs(t):0,i=o.height()-2*r.padding-n;u=function(e){e.$container;var t=e.$el.parents(e.$container);return t[0].getBoundingClientRect().width-parseInt(t.css("padding-left"),10)-parseInt(t.css("padding-right"),10)}(a),a.$el.css({width:e?u:u+l+12,marginTop:r.padding,height:i,zIndex:300,position:"fixed",top:0,overflow:"auto",overflowY:"auto",overflowX:"hidden"})}else a.$el.removeAttr("style")}else a.$el.removeAttr("style")}),n&&addWheelListener(a.$el[0]),Springerverse.Mediator.emit("StickySidebar","loaded","StickySidebar."+this.name)}}}(jQuery),SpringerLink.Component=SpringerLink.Component||{},SpringerLink.Component.TabPanel=function(l){var u=function(e){var t=e.$el[0].querySelector('[data-id="dynamic-toc-content"]');SpringerLink.Component.DynamicContentTypeList.init(l(t),e.name,{templatesId:["rwe-toc-entry","rwe-toc-subpart"]})};return{disableTabPanelEvent:function(){Springerverse.Mediator.off("Tabs.referenceWork:openTab")},init:function(e,t,n){var i,r,o,a,s=(i=e,r=t,o=n,(a=l.extend({},o)).name=r,a.componentName=r.split(".")[0],a.componentNamespace=r.split(".")[1],a.$el=i,a);if(n.initialiseTabs){var c={selectors:{tabList:".c-tabs--rwe__list",tabListItem:".c-tabs--rwe__list-item",tabListItemLink:".c-tabs--rwe__list-link",tabContent:".c-tabs--rwe__content",tabContentItem:".c-tabs--rwe__content-item"},componentPrefix:"SV"};n.startTab&&(c.startTab=n.startTab),function(e,t){Springerverse.Mediator.on("Tabs.referenceWork:openTab",function(e,t){Springerverse.Mediator.emit("StickySidebarFlexbox","update"),u(t),Springerverse.Mediator.emit("TabPanel","ready",e,t)});var n=t.$el[0].querySelector("#c-tabs");Springerverse.Component.Tabs.init(l(n),"Tabs.referenceWork",e)}(c,s)}else u(s)}}}(jQuery),SpringerLink.Config={Springerverse:{Dropdown:{citations:{group:"aside"},citationsSticky:{group:"stickybanner"},downloadsSticky:{group:"stickybanner"}},Menu:{group:"header",color:"ghost"},Search:{selector:"header.header"},KeyboardControl:{selector:"body"},EditionSwitcher:{group:"footer",color:"ghost"},Persons:{maxPersons:15}},SpringerLink:{StickyBanner:{hasButton:{buttonPaddingTop:8,mediaQuery:"two-col",stickyFrom:"div.main-context",title:"div.ArticleHeader div.MainTitleSection > h1, #book-title > h1",titleLength:"short",showTitle:!0},hasButtonAndNoMQ:{buttonPaddingTop:8,mediaQuery:!1,stickyFrom:"div.main-context",title:"div.ArticleHeader div.MainTitleSection > h1, #book-title > h1",titleLength:"short",showTitle:!0},hasLink:{buttonPaddingTop:8,mediaQuery:"two-col",stickyFrom:"div.main-context",title:"div.ArticleHeader div.MainTitleSection > h1, #book-title > h1",titleLength:"long",showTitle:!0}},StickySidebar:{mediaQuery:"two-col",padding:36},DownloadOptions:{duplicate:!1,group:"aside"},DownloadSingleBookOption:{duplicate:!1},References:{selector:"span.CitationRef"},ArticleMetrics:{articleMetricsUrl:"/article-metrics/"},PdfPreview:{heightClass:"pdf-preview__embed--height"},GoogleAds:{leaderboard:{slotId:"doubleclick-leaderboard-ad",stylingClass:"leaderboard",breakpoint:"medium"},skyscraper:{slotId:"doubleclick-ad",stylingClass:"skyscraper-ad",breakpoint:"skyscraper"},native:{slotId:"doubleclick-native-ad",breakpoint:"micro"}}}},function(e,t,n){var i='<button aria-hidden="true" href="javascript:;" title="focus catcher" class="js-focus-catcher u-screenreader-only" tabindex="-1"></button>';e(function(){n.Mediator=new n.Utils.EventEmitter,n.Utils.DeviceState.init("micro"),n.Utils.Initialiser.init(n.Component,t.Config.Springerverse,"SV"),n.Utils.Initialiser.init(t.Component,t.Config.SpringerLink,"SpringerLink"),e("body").append(i).prepend(i),t.Utils.FocusManager.followFocus()})}(jQuery,SpringerLink,Springerverse);